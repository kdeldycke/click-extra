<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content=" Configuration files" />
<meta property="og:type" content="website" />
<meta property="og:url" content="config.html" />
<meta property="og:site_name" content="Click Extra" />
<meta property="og:description" content="Configuration files: The structure of the configuration file is automatically derived from the parameters of the CLI and their types. There is no need to manually produce a configuration data struc..." />
<meta name="description" content="Configuration files: The structure of the configuration file is automatically derived from the parameters of the CLI and their types. There is no need to manually produce a configuration data struc..." />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Colored help" href="colorize.html"><link rel="prev" title="Commands &amp; groups" href="commands.html">
        <link rel="prefetch" href="_static/logo-square.svg" as="image">

    <!-- Generated with Sphinx 9.1.0 and Furo 2025.12.19 -->
        <title>Configuration files - Click Extra</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80449d92" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>

<div class="announcement">
  <aside class="announcement-content">
     Click Extra works fine, but is <em>maintained by only one person</em> üò∂‚Äçüå´Ô∏è.<br/>You can help if you <strong><a class='reference external' href='https://github.com/sponsors/kdeldycke'>purchase business support ü§ù</a></strong> or <strong><a class='reference external' href='https://github.com/sponsors/kdeldycke'>sponsor the project ü´∂</a></strong>. 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Click Extra</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo-square.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-download" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"></path><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z"></path></svg> Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-mortar-board" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M7.693 1.066a.747.747 0 0 1 .614 0l7.25 3.25a.75.75 0 0 1 0 1.368L13 6.831v2.794c0 1.024-.81 1.749-1.66 2.173-.893.447-2.075.702-3.34.702-.278 0-.55-.012-.816-.036a.75.75 0 0 1 .133-1.494c.22.02.45.03.683.03 1.082 0 2.025-.221 2.67-.543.69-.345.83-.682.83-.832V7.503L8.307 8.934a.747.747 0 0 1-.614 0L4 7.28v1.663c.296.105.575.275.812.512.438.438.688 1.059.688 1.796v3a.75.75 0 0 1-.75.75h-3a.75.75 0 0 1-.75-.75v-3c0-.737.25-1.358.688-1.796.237-.237.516-.407.812-.512V6.606L.443 5.684a.75.75 0 0 1 0-1.368ZM2.583 5 8 7.428 13.416 5 8 2.572ZM2.5 11.25v2.25H4v-2.25c0-.388-.125-.611-.25-.735a.697.697 0 0 0-.5-.203.707.707 0 0 0-.5.203c-.125.124-.25.347-.25.735Z"></path></svg> Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-command-palette" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="m6.354 8.04-4.773 4.773a.75.75 0 1 0 1.061 1.06L7.945 8.57a.75.75 0 0 0 0-1.06L2.642 2.206a.75.75 0 0 0-1.06 1.061L6.353 8.04ZM8.75 11.5a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Z"></path></svg> Commands &amp; groups</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#"><svg aria-hidden="true" class="sd-octicon sd-octicon-sliders" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M15 2.75a.75.75 0 0 1-.75.75h-4a.75.75 0 0 1 0-1.5h4a.75.75 0 0 1 .75.75Zm-8.5.75v1.25a.75.75 0 0 0 1.5 0v-4a.75.75 0 0 0-1.5 0V2H1.75a.75.75 0 0 0 0 1.5H6.5Zm1.25 5.25a.75.75 0 0 0 0-1.5h-6a.75.75 0 0 0 0 1.5h6ZM15 8a.75.75 0 0 1-.75.75H11.5V10a.75.75 0 1 1-1.5 0V6a.75.75 0 0 1 1.5 0v1.25h2.75A.75.75 0 0 1 15 8Zm-9 5.25v-2a.75.75 0 0 0-1.5 0v1.25H1.75a.75.75 0 0 0 0 1.5H4.5v1.25a.75.75 0 0 0 1.5 0v-2Zm9 0a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1 0-1.5h6a.75.75 0 0 1 .75.75Z"></path></svg> Configuration files</a></li>
<li class="toctree-l1"><a class="reference internal" href="colorize.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-paintbrush" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M11.134 1.535c.7-.509 1.416-.942 2.076-1.155.649-.21 1.463-.267 2.069.34.603.601.568 1.411.368 2.07-.202.668-.624 1.39-1.125 2.096-1.011 1.424-2.496 2.987-3.775 4.249-1.098 1.084-2.132 1.839-3.04 2.3a3.744 3.744 0 0 1-1.055 3.217c-.431.431-1.065.691-1.657.861-.614.177-1.294.287-1.914.357A21.151 21.151 0 0 1 .797 16H.743l.007-.75H.749L.742 16a.75.75 0 0 1-.743-.742l.743-.008-.742.007v-.054a21.25 21.25 0 0 1 .13-2.284c.067-.647.187-1.287.358-1.914.17-.591.43-1.226.86-1.657a3.746 3.746 0 0 1 3.227-1.054c.466-.893 1.225-1.907 2.314-2.982 1.271-1.255 2.833-2.75 4.245-3.777ZM1.62 13.089c-.051.464-.086.929-.104 1.395.466-.018.932-.053 1.396-.104a10.511 10.511 0 0 0 1.668-.309c.526-.151.856-.325 1.011-.48a2.25 2.25 0 1 0-3.182-3.182c-.155.155-.329.485-.48 1.01a10.515 10.515 0 0 0-.309 1.67Zm10.396-10.34c-1.224.89-2.605 2.189-3.822 3.384l1.718 1.718c1.21-1.205 2.51-2.597 3.387-3.833.47-.662.78-1.227.912-1.662.134-.444.032-.551.009-.575h-.001V1.78c-.014-.014-.113-.113-.548.027-.432.14-.995.462-1.655.942Zm-4.832 7.266-.001.001a9.859 9.859 0 0 0 1.63-1.142L7.155 7.216a9.7 9.7 0 0 0-1.161 1.607c.482.302.889.71 1.19 1.192Z"></path></svg> Colored help</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-log" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M5 8.25a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4A.75.75 0 0 1 5 8.25ZM4 10.5A.75.75 0 0 0 4 12h4a.75.75 0 0 0 0-1.5H4Z"></path><path d="M13-.005c1.654 0 3 1.328 3 3 0 .982-.338 1.933-.783 2.818-.443.879-1.028 1.758-1.582 2.588l-.011.017c-.568.853-1.104 1.659-1.501 2.446-.398.789-.623 1.494-.623 2.136a1.5 1.5 0 1 0 2.333-1.248.75.75 0 0 1 .834-1.246A3 3 0 0 1 13 16H3a3 3 0 0 1-3-3c0-1.582.891-3.135 1.777-4.506.209-.322.418-.637.623-.946.473-.709.923-1.386 1.287-2.048H2.51c-.576 0-1.381-.133-1.907-.783A2.68 2.68 0 0 1 0 2.995a3 3 0 0 1 3-3Zm0 1.5a1.5 1.5 0 0 0-1.5 1.5c0 .476.223.834.667 1.132A.75.75 0 0 1 11.75 5.5H5.368c-.467 1.003-1.141 2.015-1.773 2.963-.192.289-.381.571-.558.845C2.13 10.711 1.5 11.916 1.5 13A1.5 1.5 0 0 0 3 14.5h7.401A2.989 2.989 0 0 1 10 13c0-.979.338-1.928.784-2.812.441-.874 1.023-1.748 1.575-2.576l.017-.026c.568-.853 1.103-1.658 1.501-2.448.398-.79.623-1.497.623-2.143 0-.838-.669-1.5-1.5-1.5Zm-10 0a1.5 1.5 0 0 0-1.5 1.5c0 .321.1.569.27.778.097.12.325.227.74.227h7.674A2.737 2.737 0 0 1 10 2.995c0-.546.146-1.059.401-1.5Z"></path></svg> Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="table.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-table" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path></svg> Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="version.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-versions" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M7.75 14A1.75 1.75 0 0 1 6 12.25v-8.5C6 2.784 6.784 2 7.75 2h6.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14Zm-.25-1.75c0 .138.112.25.25.25h6.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25h-6.5a.25.25 0 0 0-.25.25ZM4.9 3.508a.75.75 0 0 1-.274 1.025.249.249 0 0 0-.126.217v6.5c0 .09.048.173.126.217a.75.75 0 0 1-.752 1.298A1.75 1.75 0 0 1 3 11.25v-6.5c0-.649.353-1.214.874-1.516a.75.75 0 0 1 1.025.274ZM1.625 5.533h.001a.249.249 0 0 0-.126.217v4.5c0 .09.048.173.126.217a.75.75 0 0 1-.752 1.298A1.748 1.748 0 0 1 0 10.25v-4.5a1.748 1.748 0 0 1 .873-1.516.75.75 0 1 1 .752 1.299Z"></path></svg> Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="timer.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-stopwatch" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M5.75.75A.75.75 0 0 1 6.5 0h3a.75.75 0 0 1 0 1.5h-.75v1l-.001.041a6.724 6.724 0 0 1 3.464 1.435l.007-.006.75-.75a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734l-.75.75-.006.007a6.75 6.75 0 1 1-10.548 0L2.72 5.03l-.75-.75a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l.75.75.007.006A6.72 6.72 0 0 1 7.25 2.541V1.5H6.5a.75.75 0 0 1-.75-.75ZM8 14.5a5.25 5.25 0 1 0-.001-10.501A5.25 5.25 0 0 0 8 14.5Zm.389-6.7 1.33-1.33a.75.75 0 1 1 1.061 1.06L9.45 8.861A1.503 1.503 0 0 1 8 10.75a1.499 1.499 0 1 1 .389-2.95Z"></path></svg> Timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-tasklist" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M2 2h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm4.655 8.595a.75.75 0 0 1 0 1.06L4.03 14.28a.75.75 0 0 1-1.06 0l-1.5-1.5a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l.97.97 2.095-2.095a.75.75 0 0 1 1.06 0ZM9.75 2.5h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5Zm0 5h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5Zm0 5h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5Zm-7.25-9v3h3v-3Z"></path></svg> Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-file-binary" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2a.75.75 0 0 1-1.5 0Zm-4 6C0 6.784.784 6 1.75 6h1.5C4.216 6 5 6.784 5 7.75v2.5A1.75 1.75 0 0 1 3.25 12h-1.5A1.75 1.75 0 0 1 0 10.25ZM6.75 6h1.5a.75.75 0 0 1 .75.75v3.75h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5h.75v-3h-.75a.75.75 0 0 1 0-1.5Zm-5 1.5a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h1.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Zm9.75-5.938V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg> Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="pygments.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-file-code" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06ZM3.28 7.78 1.81 9.25l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Zm8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg> Pygments</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-book" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path></svg> Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-shield-check" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="m8.533.133 5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667l5.25-1.68a1.748 1.748 0 0 1 1.066 0Zm-.61 1.429.001.001-5.25 1.68a.251.251 0 0 0-.174.237V7c0 1.36.275 2.666 1.057 3.859.784 1.194 2.121 2.342 4.366 3.298a.196.196 0 0 0 .154 0c2.245-.957 3.582-2.103 4.366-3.297C13.225 9.666 13.5 8.358 13.5 7V3.48a.25.25 0 0 0-.174-.238l-5.25-1.68a.25.25 0 0 0-.153 0ZM11.28 6.28l-3.5 3.5a.75.75 0 0 1-1.06 0l-1.5-1.5a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l.97.97 2.97-2.97a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path></svg> CLI testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="pytest.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-meter" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M8 1.5a6.5 6.5 0 1 0 6.016 4.035.75.75 0 0 1 1.388-.57 8 8 0 1 1-4.37-4.37.75.75 0 1 1-.569 1.389A6.473 6.473 0 0 0 8 1.5Zm6.28.22a.75.75 0 0 1 0 1.06l-4.063 4.064a2.5 2.5 0 1 1-1.06-1.06L13.22 1.72a.75.75 0 0 1 1.06 0ZM7 8a1 1 0 1 0 2 0 1 1 0 0 0-2 0Z"></path></svg> Pytest</a></li>
<li class="toctree-l1"><a class="reference internal" href="telemetry.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-broadcast" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M8.75 8.582v5.668a.75.75 0 0 1-1.5 0V8.582a1.75 1.75 0 1 1 1.5 0Zm3.983-7.125a.75.75 0 0 1 1.06.026A7.976 7.976 0 0 1 16 7c0 2.139-.84 4.083-2.207 5.517a.75.75 0 1 1-1.086-1.034A6.474 6.474 0 0 0 14.5 7a6.474 6.474 0 0 0-1.793-4.483.75.75 0 0 1 .026-1.06Zm-9.466 0c.3.286.312.76.026 1.06A6.474 6.474 0 0 0 1.5 7a6.47 6.47 0 0 0 1.793 4.483.75.75 0 0 1-1.086 1.034A7.973 7.973 0 0 1 0 7c0-2.139.84-4.083 2.207-5.517a.75.75 0 0 1 1.06-.026Zm8.556 2.321A4.988 4.988 0 0 1 13 7a4.988 4.988 0 0 1-1.177 3.222.75.75 0 1 1-1.146-.967A3.487 3.487 0 0 0 11.5 7c0-.86-.309-1.645-.823-2.255a.75.75 0 0 1 1.146-.967Zm-6.492.958A3.48 3.48 0 0 0 4.5 7a3.48 3.48 0 0 0 .823 2.255.75.75 0 0 1-1.146.967A4.981 4.981 0 0 1 3 7a4.982 4.982 0 0 1 1.188-3.236.75.75 0 1 1 1.143.972Z"></path></svg> Telemetry</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="click_extra.html">API</a><input aria-label="Toggle navigation of API" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="click_extra.sphinx.html">click_extra.sphinx package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">tests package</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-diff" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M8.75 1.75V5H12a.75.75 0 0 1 0 1.5H8.75v3.25a.75.75 0 0 1-1.5 0V6.5H4A.75.75 0 0 1 4 5h3.25V1.75a.75.75 0 0 1 1.5 0ZM4 13h8a.75.75 0 0 1 0 1.5H4A.75.75 0 0 1 4 13Z"></path></svg> Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="issues.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-bug" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"></path></svg> Fixed issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="todolist.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-checklist" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"></path></svg> Todo-list</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-of-conduct.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-code-of-conduct" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M8.048 2.241c.964-.709 2.079-1.238 3.325-1.241a4.616 4.616 0 0 1 3.282 1.355c.41.408.757.86.996 1.428.238.568.348 1.206.347 1.968 0 2.193-1.505 4.254-3.081 5.862-1.496 1.526-3.213 2.796-4.249 3.563l-.22.163a.749.749 0 0 1-.895 0l-.221-.163c-1.036-.767-2.753-2.037-4.249-3.563C1.51 10.008.007 7.952.002 5.762a4.614 4.614 0 0 1 1.353-3.407C3.123.585 6.223.537 8.048 2.24Zm-1.153.983c-1.25-1.033-3.321-.967-4.48.191a3.115 3.115 0 0 0-.913 2.335c0 1.556 1.109 3.24 2.652 4.813C5.463 11.898 6.96 13.032 8 13.805c.353-.262.758-.565 1.191-.905l-1.326-1.223a.75.75 0 0 1 1.018-1.102l1.48 1.366c.328-.281.659-.577.984-.887L9.99 9.802a.75.75 0 1 1 1.019-1.103l1.384 1.28c.295-.329.566-.661.81-.995L12.92 8.7l-1.167-1.168c-.674-.671-1.78-.664-2.474.03-.268.269-.538.537-.802.797-.893.882-2.319.843-3.185-.032-.346-.35-.693-.697-1.043-1.047a.75.75 0 0 1-.04-1.016c.162-.191.336-.401.52-.623.62-.748 1.356-1.637 2.166-2.417Zm7.112 4.442c.313-.65.491-1.293.491-1.916v-.001c0-.614-.088-1.045-.23-1.385-.143-.339-.357-.633-.673-.949a3.111 3.111 0 0 0-2.218-.915c-1.092.003-2.165.627-3.226 1.602-.823.755-1.554 1.637-2.228 2.45l-.127.154.562.566a.755.755 0 0 0 1.066.02l.794-.79c1.258-1.258 3.312-1.31 4.594-.032.396.394.792.791 1.173 1.173Z"></path></svg> Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html"><svg aria-hidden="true" class="sd-octicon sd-octicon-law" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path></svg> License</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/kdeldycke/click-extra">GitHub repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/sponsors/kdeldycke">Funding</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/kdeldycke/click-extra/blob/main/docs/config.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/kdeldycke/click-extra/edit/main/docs/config.md" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="configuration-files">
<h1><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-sliders" viewBox="0 0 16 16" aria-hidden="true"><path d="M15 2.75a.75.75 0 0 1-.75.75h-4a.75.75 0 0 1 0-1.5h4a.75.75 0 0 1 .75.75Zm-8.5.75v1.25a.75.75 0 0 0 1.5 0v-4a.75.75 0 0 0-1.5 0V2H1.75a.75.75 0 0 0 0 1.5H6.5Zm1.25 5.25a.75.75 0 0 0 0-1.5h-6a.75.75 0 0 0 0 1.5h6ZM15 8a.75.75 0 0 1-.75.75H11.5V10a.75.75 0 1 1-1.5 0V6a.75.75 0 0 1 1.5 0v1.25h2.75A.75.75 0 0 1 15 8Zm-9 5.25v-2a.75.75 0 0 0-1.5 0v1.25H1.75a.75.75 0 0 0 0 1.5H4.5v1.25a.75.75 0 0 0 1.5 0v-2Zm9 0a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1 0-1.5h6a.75.75 0 0 1 .75.75Z"></path></svg> Configuration files<a class="headerlink" href="#configuration-files" title="Link to this heading">¬∂</a></h1>
<p>The structure of the configuration file is automatically <a class="reference internal" href="parameters.html#parameter-structure"><span class="std std-ref">derived from the
parameters</span></a> of the CLI and their types. There is no need to manually produce a configuration
data structure to mirror the CLI.</p>
<section id="standalone-option">
<h2>Standalone option<a class="headerlink" href="#standalone-option" title="Link to this heading">¬∂</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;config_option</span></code> decorator provided by Click Extra can be used as-is with vanilla Click:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">group</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">echo</span>
<span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span>
</span>
<span class="nd">@group</span><span class="p">(</span><span class="n">context_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--dummy-flag/--no-flag&quot;</span><span class="p">)</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--my-list&quot;</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="hll"><span class="nd">@config_option</span>
</span><span class="k">def</span><span class="w"> </span><span class="nf">my_cli</span><span class="p">(</span><span class="n">dummy_flag</span><span class="p">,</span> <span class="n">my_list</span><span class="p">):</span>
    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;dummy_flag    is </span><span class="si">{</span><span class="n">dummy_flag</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;my_list       is </span><span class="si">{</span><span class="n">my_list</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nd">@my_cli</span><span class="o">.</span><span class="n">command</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--int-param&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">subcommand</span><span class="p">(</span><span class="n">int_param</span><span class="p">):</span>
    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;int_parameter is </span><span class="si">{</span><span class="n">int_param</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The code above is saved into a file named <code class="docutils literal notranslate"><span class="pre">my_cli.py</span></code>.</p>
<p>It produces the following help screen:</p>
<div class="highlight-ansi-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>my-cli<span class="w"> </span>--help
Usage: my-cli [OPTIONS] COMMAND [ARGS]...

Options:
  --dummy-flag / --no-flag  [default: no-flag]
  --my-list TEXT
<span class="hll">  --config CONFIG_PATH      Location of the configuration file. Supports local
</span><span class="hll">                            path with glob patterns or remote URL.  [default:
</span><span class="hll">                            ~/.config/my-cli/*.toml|*.yaml|*.yml|*.json|*.json5|
</span><span class="hll">                            *.jsonc|*.hjson|*.ini|*.xml]
</span>  --help                    Show this message and exit.

Commands:
  subcommand
</pre></div>
</div>
<p>See in the result above, there is an explicit mention of the default location of the configuration file (<code class="docutils literal notranslate"><span class="pre">[default:</span> <span class="pre">~/.config/my-cli/*.toml|*.yaml|*.yml|*.json|*.json5|*.jsonc|*.hjson|*.ini|*.xml]</span></code>). This improves discoverability, and <a class="reference external" href="https://utcc.utoronto.ca/~cks/space/blog/sysadmin/ReportConfigFileLocations">makes sysadmins happy</a>, especially those not familiar with your CLI.</p>
<p>A bare call returns:</p>
<div class="highlight-ansi-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>my-cli<span class="w"> </span>subcommand
dummy_flag    is False
my_list       is ()
int_parameter is 10
</pre></div>
</div>
<p>With a simple TOML file in the application folder, we will change the CLI‚Äôs default output.</p>
<p>Here is what <code class="docutils literal notranslate"><span class="pre">~/.config/my-cli/config.toml</span></code> contains:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">~/.config/my-cli/config.toml</span></code></span><a class="headerlink" href="#id6" title="Link to this code">¬∂</a></div>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="c1"># My default configuration file.</span>
<span class="n">top_level_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;is_ignored&quot;</span>

<span class="k">[my-cli]</span>
<span class="n">extra_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;is ignored too&quot;</span>
<span class="hll"><span class="n">dummy_flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">                                  </span><span class="c1"># New boolean default.</span>
</span><span class="hll"><span class="n">my_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;item 1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;item #2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Very Last Item!&quot;</span><span class="p">]</span>
</span>
<span class="k">[garbage]</span>
<span class="c1"># An empty random section that will be skipped.</span>

<span class="k">[my-cli.subcommand]</span>
<span class="hll"><span class="n">int_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
</span><span class="n">random_stuff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;will be ignored&quot;</span>
</pre></div>
</div>
</div>
<p>In the file above, pay attention to:</p>
<ul class="simple">
<li><p>the <a class="reference internal" href="#default-folder"><span class="xref myst">default configuration base path</span></a>, which is OS-dependant (the <code class="docutils literal notranslate"><span class="pre">~/.config/my-cli/</span></code> path here is for Linux) ;</p></li>
<li><p>the app‚Äôs folder (<code class="docutils literal notranslate"><span class="pre">/my-cli/</span></code>) which is built from the script‚Äôs
name (<code class="docutils literal notranslate"><span class="pre">my_cli.py</span></code>);</p></li>
<li><p>the top-level config section (<code class="docutils literal notranslate"><span class="pre">[my-cli]</span></code>), based on the CLI‚Äôs
group ID (<code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">my_cli()</span></code>);</p></li>
<li><p>all the extra comments, sections and values that will be silently ignored.</p></li>
</ul>
<p>Now we can verify the configuration file is properly read and change the defaults:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>my-cli<span class="w"> </span>subcommand
<span class="go">dummy_flag    is True</span>
<span class="go">my_list       is (&#39;item 1&#39;, &#39;item #2&#39;, &#39;Very Last Item!&#39;)</span>
<span class="go">int_parameter is 3</span>
</pre></div>
</div>
</section>
<section id="precedence">
<h2>Precedence<a class="headerlink" href="#precedence" title="Link to this heading">¬∂</a></h2>
<p>The configuration loader fetch values according the following precedence:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CLI</span> <span class="pre">parameters</span></code></p>
<ul>
<li><p>‚Üñ <code class="docutils literal notranslate"><span class="pre">Configuration</span> <span class="pre">file</span></code></p>
<ul>
<li><p>‚Üñ <code class="docutils literal notranslate"><span class="pre">Environment</span> <span class="pre">variables</span></code></p>
<ul>
<li><p>‚Üñ <code class="docutils literal notranslate"><span class="pre">Defaults</span></code></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The parameter will take the first value set in that chain.</p>
<p>See how inline parameters takes priority on defaults from the previous example:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>my-cli<span class="w"> </span>subcommand<span class="w"> </span>--int-param<span class="w"> </span><span class="m">555</span>
</span><span class="go">dummy_flag    is True</span>
<span class="go">my_list       is (&#39;item 1&#39;, &#39;item #2&#39;, &#39;Very Last Item!&#39;)</span>
<span class="hll"><span class="go">int_parameter is 555</span>
</span></pre></div>
</div>
</section>
<section id="get-configuration-values">
<h2>Get configuration values<a class="headerlink" href="#get-configuration-values" title="Link to this heading">¬∂</a></h2>
<p>After gathering all the configuration from the different sources, and assembling them together following the precedence rules above, the configuration values are merged back into the Context‚Äôs <code class="docutils literal notranslate"><span class="pre">default_map</span></code>. But only the values that are matching the CLI‚Äôs parameters are kept and passed as defaults. All others are silently ignored.</p>
<p>You can still access the full configuration by looking into the context‚Äôs <code class="docutils literal notranslate"><span class="pre">meta</span></code> attribute:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">option</span><span class="p">,</span> <span class="n">echo</span><span class="p">,</span> <span class="n">pass_context</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">config_option</span>


<span class="nd">@command</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--int-param&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="nd">@config_option</span>
<span class="nd">@pass_context</span>
<span class="k">def</span><span class="w"> </span><span class="nf">my_cli</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">int_param</span><span class="p">):</span>
<span class="hll">    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Configuration location: </span><span class="si">{</span><span class="n">ctx</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;click_extra.conf_source&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span class="hll">    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Full configuration: </span><span class="si">{</span><span class="n">ctx</span><span class="o">.</span><span class="n">meta</span><span class="p">[</span><span class="s1">&#39;click_extra.conf_full&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span class="hll">    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Default values: </span><span class="si">{</span><span class="n">ctx</span><span class="o">.</span><span class="n">default_map</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span class="hll">    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;int_param is </span><span class="si">{</span><span class="n">int_param</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">./conf.toml</span></code></span><a class="headerlink" href="#id7" title="Link to this code">¬∂</a></div>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[my-cli]</span>
<span class="n">int_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<span class="n">random_stuff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;will be ignored&quot;</span>

<span class="k">[garbage]</span>
<span class="n">dummy_flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</pre></div>
</div>
</div>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>my-cli<span class="w"> </span>--config<span class="w"> </span>./conf.toml<span class="w"> </span>--int-param<span class="w"> </span><span class="m">999</span>
<span class="go">Load configuration matching ./conf.toml</span>
<span class="hll"><span class="go">Configuration location: /home/me/conf.toml</span>
</span><span class="hll"><span class="go">Full configuration: {&#39;my-cli&#39;: {&#39;int_param&#39;: 3, &#39;random_stuff&#39;: &#39;will be ignored&#39;}, &#39;garbage&#39;: {&#39;dummy_flag&#39;: True}}</span>
</span><span class="hll"><span class="go">Default values: {&#39;int_param&#39;: 3}</span>
</span><span class="hll"><span class="go">int_parameter is 999</span>
</span></pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Variables in <code class="docutils literal notranslate"><span class="pre">meta</span></code> are presented in their original Python type:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">click_extra.conf_source</span></code> is either a normalized <a class="reference external" href="https://docs.python.org/3/library/pathlib.html"><code class="docutils literal notranslate"><span class="pre">Path</span></code></a> or <a class="reference external" href="https://boltons.readthedocs.io/en/latest/urlutils.html#the-url-type"><code class="docutils literal notranslate"><span class="pre">URL</span></code> object</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">click_extra.conf_full</span></code> is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> whose values are either <code class="docutils literal notranslate"><span class="pre">str</span></code> or richer types, depending on the capabilities of <a class="reference internal" href="click_extra.html#click_extra.DateTime.formats" title="click_extra.DateTime.formats"><span class="xref myst py py-attr">each format</span></a></p></li>
</ul>
</div>
</section>
<section id="strictness">
<h2>Strictness<a class="headerlink" href="#strictness" title="Link to this heading">¬∂</a></h2>
<p>As you can see <a class="reference internal" href="#standalone-option"><span class="xref myst">in the first example above</span></a>, all unrecognized content is ignored.</p>
<p>If for any reason you do not want to allow any garbage in configuration files provided by the user, you can use the <code class="docutils literal notranslate"><span class="pre">strict</span></code> argument.</p>
<p>Given this <code class="docutils literal notranslate"><span class="pre">cli.toml</span></code> file:</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">cli.toml</span></code></span><a class="headerlink" href="#id8" title="Link to this code">¬∂</a></div>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[cli]</span>
<span class="n">int_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<span class="hll"><span class="n">random_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;forbidden&quot;</span>
</span></pre></div>
</div>
</div>
<p>The use of <code class="docutils literal notranslate"><span class="pre">strict=True</span></code> parameter in the CLI below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">echo</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span>

<span class="nd">@command</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--int-param&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="hll"><span class="nd">@config_option</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="k">def</span><span class="w"> </span><span class="nf">cli</span><span class="p">(</span><span class="n">int_param</span><span class="p">):</span>
    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;int_parameter is </span><span class="si">{</span><span class="n">int_param</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Will raise an error and stop the CLI execution on unrecognized <code class="docutils literal notranslate"><span class="pre">random_param</span></code> value:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cli<span class="w"> </span>--config<span class="w"> </span><span class="s2">&quot;cli.toml&quot;</span>
<span class="go">Load configuration matching cli.toml</span>
<span class="gp gp-VirtualEnv">(...)</span>
<span class="hll"><span class="go">ValueError: Parameter &#39;random_param&#39; is not allowed in configuration file.</span>
</span></pre></div>
</div>
</section>
<section id="excluding-parameters">
<h2>Excluding parameters<a class="headerlink" href="#excluding-parameters" title="Link to this heading">¬∂</a></h2>
<p>The <a class="reference internal" href="#click_extra.config.ConfigOption.excluded_params" title="click_extra.config.ConfigOption.excluded_params"><span class="xref myst py py-attr"><code class="docutils literal notranslate"><span class="pre">excluded_params</span></code></span></a> argument allows you to block some of your CLI options to be loaded from configuration. By setting this argument, you will prevent your CLI users to set these parameters in their configuration file.</p>
<p>It <a class="reference internal" href="#click_extra.config.DEFAULT_EXCLUDED_PARAMS" title="click_extra.config.DEFAULT_EXCLUDED_PARAMS"><span class="xref myst py py-data">defaults to the value of <code class="docutils literal notranslate"><span class="pre">DEFAULT_EXCLUDED_PARAMS</span></code></span></a>.</p>
<p>You can set your own list of option to ignore with the <code class="docutils literal notranslate"><span class="pre">excluded_params</span></code> argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">echo</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span>

<span class="nd">@command</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--int-param&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="hll"><span class="nd">@config_option</span><span class="p">(</span><span class="n">excluded_params</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;my-cli.non_configurable_option&quot;</span><span class="p">,</span> <span class="s2">&quot;my-cli.dangerous_param&quot;</span><span class="p">])</span>
</span><span class="k">def</span><span class="w"> </span><span class="nf">my_cli</span><span class="p">(</span><span class="n">int_param</span><span class="p">):</span>
    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;int_parameter is </span><span class="si">{</span><span class="n">int_param</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You need to provide the fully-qualified ID of the option you‚Äôre looking to block. I.e. the dot-separated ID that is prefixed by the CLI name. That way you can specify an option to ignore at any level, including subcommands.</p>
<p>If you have difficulties identifying your options and their IDs, run your CLI with the <a class="reference internal" href="#show-params-option"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">--show-params</span></code> option</span></a> for introspection.</p>
</div>
</section>
<section id="disabling-autodiscovery">
<h2>Disabling autodiscovery<a class="headerlink" href="#disabling-autodiscovery" title="Link to this heading">¬∂</a></h2>
<p>By default, <code class="docutils literal notranslate"><span class="pre">&#64;config_option</span></code> automatically searches for configuration files in the <a class="reference internal" href="#default-folder"><span class="xref myst">default application folder</span></a>. If you want to disable this autodiscovery and only load a configuration file when the user explicitly passes <code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">&lt;path&gt;</span></code>, use the <code class="docutils literal notranslate"><span class="pre">NO_CONFIG</span></code> sentinel as the default:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">group</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">echo</span>
<span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span><span class="p">,</span> <span class="n">NO_CONFIG</span>
</span>
<span class="nd">@group</span><span class="p">(</span><span class="n">context_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--dummy-flag/--no-flag&quot;</span><span class="p">)</span>
<span class="nd">@config_option</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">NO_CONFIG</span><span class="p">)</span>
<span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">my_cli</span><span class="p">(</span><span class="n">dummy_flag</span><span class="p">):</span>
</span>    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;dummy_flag is </span><span class="si">{</span><span class="n">dummy_flag</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>With this setup:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">--help</span></code> output shows <code class="docutils literal notranslate"><span class="pre">[default:</span> <span class="pre">disabled]</span></code> instead of a filesystem path.</p></li>
<li><p>Running the CLI without <code class="docutils literal notranslate"><span class="pre">--config</span></code> produces no configuration-related output on stderr.</p></li>
<li><p>Users can still explicitly pass <code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">&lt;path&gt;</span></code> to load a specific configuration file.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--no-config</span></code> flag (if added via <code class="docutils literal notranslate"><span class="pre">&#64;no_config_option</span></code>) still prints the ‚ÄúSkip configuration file loading altogether.‚Äù message when used explicitly.</p></li>
</ul>
<p>This is useful for CLIs where configuration files are opt-in rather than opt-out, or when you want to avoid side effects from automatically discovered configuration files during development or testing.</p>
</section>
<section id="formats">
<h2>Formats<a class="headerlink" href="#formats" title="Link to this heading">¬∂</a></h2>
<p>Several dialects are supported:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Format</p></th>
<th class="head text-left"><p>Extensions</p></th>
<th class="head text-left"><p>Description</p></th>
<th class="head text-left"><p>Enabled by default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><a class="reference internal" href="#toml"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">TOML</span></code></span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">*.toml</span></code></p></td>
<td class="text-left"><p>-</p></td>
<td class="text-left"><p>‚úÖ</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><a class="reference internal" href="#yaml"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">YAML</span></code></span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">*.yaml</span></code>, <code class="docutils literal notranslate"><span class="pre">*.yml</span></code></p></td>
<td class="text-left"><p>-</p></td>
<td class="text-left"><p>‚ùå</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="Python 3.14"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">JSON</span></code></span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">*.json</span></code></p></td>
<td class="text-left"><p>-</p></td>
<td class="text-left"><p>‚úÖ</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><a class="reference internal" href="#json5"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">JSON5</span></code></span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">*.json5</span></code></p></td>
<td class="text-left"><p>A <a class="reference external" href="https://json5.org">superset of JSON made for configuration file</a></p></td>
<td class="text-left"><p>‚ùå</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><a class="reference internal" href="#jsonc"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">JSONC</span></code></span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">*.jsonc</span></code></p></td>
<td class="text-left"><p>Like JSON, but with comments and trailing commas</p></td>
<td class="text-left"><p>‚ùå</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><a class="reference internal" href="#hjson"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">HJSON</span></code></span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">*.hjson</span></code></p></td>
<td class="text-left"><p>Another flavor of a <a class="reference external" href="https://hjson.github.io">user-friendly JSON</a></p></td>
<td class="text-left"><p>‚ùå</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><a class="reference internal" href="#ini"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">INI</span></code></span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">*.ini</span></code></p></td>
<td class="text-left"><p>With extended interpolation, multi-level sections and non-native types (<code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code>, ‚Ä¶)</p></td>
<td class="text-left"><p>‚úÖ</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><a class="reference external" href="https://docs.python.org/3/library/xml.html#module-xml" title="Python 3.14"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">XML</span></code></span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">*.xml</span></code></p></td>
<td class="text-left"><p>-</p></td>
<td class="text-left"><p>‚ùå</p></td>
</tr>
</tbody>
</table>
</div>
<p>Formats depending on third-party packages are not enabled by default. You need to <a class="reference internal" href="install.html#configuration-file-formats"><span class="std std-ref">install Click Extra with the corresponding extra dependency group</span></a> to enable them.</p>
<section id="toml">
<h3>TOML<a class="headerlink" href="#toml" title="Link to this heading">¬∂</a></h3>
<p>See the <a class="reference internal" href="#standalone-option"><span class="xref myst">example in the top of this page</span></a>.</p>
</section>
<section id="yaml">
<h3>YAML<a class="headerlink" href="#yaml" title="Link to this heading">¬∂</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>YAML support requires additional packages. You need to <a class="reference internal" href="install.html#configuration-file-formats"><span class="std std-ref">install <code class="docutils literal notranslate"><span class="pre">click-extra[yaml]</span></code></span></a> extra dependency group to enable it.</p>
</div>
<p>The example above, given for a TOML configuration file, is working as-is with YAML.</p>
<p>Just replace the TOML file with the following configuration at
<code class="docutils literal notranslate"><span class="pre">~/.config/my-cli/config.yaml</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">~/.config/my-cli/config.yaml</span></code></span><a class="headerlink" href="#id9" title="Link to this code">¬∂</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># My default configuration file.</span>
<span class="nt">top_level_param</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">is_ignored</span>

<span class="nt">my-cli</span><span class="p">:</span>
<span class="w">  </span><span class="nt">extra_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">is ignored too</span>
<span class="hll"><span class="w">  </span><span class="nt">dummy_flag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">   </span><span class="c1"># New boolean default.</span>
</span><span class="hll"><span class="w">  </span><span class="nt">my_list</span><span class="p">:</span>
</span><span class="hll"><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">point 1</span>
</span><span class="hll"><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;point</span><span class="nv"> </span><span class="s">#2&#39;</span>
</span><span class="hll"><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Very Last Point!</span>
</span>
<span class="w">  </span><span class="nt">subcommand</span><span class="p">:</span>
<span class="hll"><span class="w">    </span><span class="nt">int_param</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">77</span>
</span><span class="w">    </span><span class="nt">random_stuff</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">will be ignored</span>

<span class="nt">garbage</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">  </span><span class="no">An empty random section that will be skipped</span>
</pre></div>
</div>
</div>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>my-cli<span class="w"> </span>--config<span class="w"> </span><span class="s2">&quot;~/.config/my-cli/config.yaml&quot;</span><span class="w"> </span>subcommand
<span class="hll"><span class="go">dummy_flag    is True</span>
</span><span class="hll"><span class="go">my_list       is (&#39;point 1&#39;, &#39;point #2&#39;, &#39;Very Last Point!&#39;)</span>
</span><span class="hll"><span class="go">int_parameter is 77</span>
</span></pre></div>
</div>
</section>
<section id="json">
<h3>JSON<a class="headerlink" href="#json" title="Link to this heading">¬∂</a></h3>
<p>Again, same for JSON:</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">~/.config/my-cli/config.json</span></code></span><a class="headerlink" href="#id10" title="Link to this code">¬∂</a></div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;top_level_param&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;is_ignored&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;garbage&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">  </span><span class="nt">&quot;my-cli&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="hll"><span class="w">    </span><span class="nt">&quot;dummy_flag&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span class="w">    </span><span class="nt">&quot;extra_value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;is ignored too&quot;</span><span class="p">,</span>
<span class="hll"><span class="w">    </span><span class="nt">&quot;my_list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span class="hll"><span class="w">      </span><span class="s2">&quot;item 1&quot;</span><span class="p">,</span>
</span><span class="hll"><span class="w">      </span><span class="s2">&quot;item #2&quot;</span><span class="p">,</span>
</span><span class="hll"><span class="w">      </span><span class="s2">&quot;Very Last Item!&quot;</span>
</span><span class="hll"><span class="w">    </span><span class="p">],</span>
</span><span class="w">    </span><span class="nt">&quot;subcommand&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="hll"><span class="w">      </span><span class="nt">&quot;int_param&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span>
</span><span class="w">      </span><span class="nt">&quot;random_stuff&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;will be ignored&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>my-cli<span class="w"> </span>--config<span class="w"> </span><span class="s2">&quot;~/.config/my-cli/config.json&quot;</span><span class="w"> </span>subcommand
<span class="hll"><span class="go">dummy_flag    is True</span>
</span><span class="hll"><span class="go">my_list       is (&#39;item 1&#39;, &#39;item #2&#39;, &#39;Very Last Item!&#39;)</span>
</span><span class="hll"><span class="go">int_parameter is 65</span>
</span></pre></div>
</div>
</section>
<section id="json5">
<h3>JSON5<a class="headerlink" href="#json5" title="Link to this heading">¬∂</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>JSON5 support requires additional packages. You need to <a class="reference internal" href="install.html#configuration-file-formats"><span class="std std-ref">install <code class="docutils literal notranslate"><span class="pre">click-extra[json5]</span></code></span></a> extra dependency group to enable it.</p>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Write example.</p>
</div>
</section>
<section id="jsonc">
<h3>JSONC<a class="headerlink" href="#jsonc" title="Link to this heading">¬∂</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>JSONC support requires additional packages. You need to <a class="reference internal" href="install.html#configuration-file-formats"><span class="std std-ref">install <code class="docutils literal notranslate"><span class="pre">click-extra[jsonc]</span></code></span></a> extra dependency group to enable it.</p>
</div>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Write example.</p>
</div>
</section>
<section id="hjson">
<h3>HJSON<a class="headerlink" href="#hjson" title="Link to this heading">¬∂</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>HJSON support requires additional packages. You need to <a class="reference internal" href="install.html#configuration-file-formats"><span class="std std-ref">install <code class="docutils literal notranslate"><span class="pre">click-extra[hjson]</span></code></span></a> extra dependency group to enable it.</p>
</div>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>Write example.</p>
</div>
</section>
<section id="ini">
<h3>INI<a class="headerlink" href="#ini" title="Link to this heading">¬∂</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">INI</span></code> configuration files are allowed to use <a class="reference external" href="https://docs.python.org/3/library/configparser.html?highlight=configparser#configparser.ExtendedInterpolation"><code class="docutils literal notranslate"><span class="pre">ExtendedInterpolation</span></code></a> by default.</p>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>Write example.</p>
</div>
</section>
<section id="xml">
<h3>XML<a class="headerlink" href="#xml" title="Link to this heading">¬∂</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>XML support requires additional packages. You need to <a class="reference internal" href="install.html#configuration-file-formats"><span class="std std-ref">install <code class="docutils literal notranslate"><span class="pre">click-extra[xml]</span></code></span></a> extra dependency group to enable it.</p>
</div>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p>Write example.</p>
</div>
</section>
</section>
<section id="search-pattern">
<h2>Search pattern<a class="headerlink" href="#search-pattern" title="Link to this heading">¬∂</a></h2>
<p>The configuration file is searched with a wildcard-based glob pattern.</p>
<p>There is multiple stages to locate and parse the configuration file:</p>
<ol class="arabic simple">
<li><p>Locate all files matching the search pattern</p></li>
<li><p>Match each file against the supported formats, in order, until one is successfully parsed</p></li>
<li><p>Use the first successfully parsed file as the configuration source</p></li>
</ol>
<p>By default, the pattern is <code class="docutils literal notranslate"><span class="pre">&lt;app_dir&gt;/*.toml|*.json|*.ini</span></code>, where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;app_dir&gt;</span></code> is the <a class="reference internal" href="#default-folder"><span class="xref myst">default application folder</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*.toml|*.json|*.ini</span></code> are the <a class="reference internal" href="click_extra.html#click_extra.DateTime.formats" title="click_extra.DateTime.formats"><span class="xref myst py py-attr">extensions of formats</span></a> enabled by default</p></li>
</ul>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Depending on the formats you enabled in your installation of Click Extra, the default extensions may vary. For example, if you installed Click Extra with all extra dependencies, the default extensions would extended to <code class="docutils literal notranslate"><span class="pre">*.toml|*.yaml|*.yml|*.json|*.json5|*.jsonc|*.hjson|*.ini|*.xml</span></code>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The search process can be hard to follow. To help you see clearly, you can enable debug logging for the <code class="docutils literal notranslate"><span class="pre">click_extra</span></code> logger to see which files are located, matched, parsed, skipped, and finally used.</p>
<p>Or better, just pass the <a class="reference internal" href="logging.html#colored-verbosity"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--verbosity</span> <span class="pre">DEBUG</span></code> option</span></a> to your CLI if it is powered by Click Extra.</p>
</div>
<section id="default-folder">
<h3>Default folder<a class="headerlink" href="#default-folder" title="Link to this heading">¬∂</a></h3>
<p>The configuration file is searched in the default application path, as defined by <a class="reference external" href="https://click.palletsprojects.com/en/stable/api/#click.get_app_dir"><code class="docutils literal notranslate"><span class="pre">click.get_app_dir()</span></code></a>.</p>
<p>To mirror the latter, the <code class="docutils literal notranslate"><span class="pre">&#64;config_option</span></code> decorator accept a <code class="docutils literal notranslate"><span class="pre">roaming</span></code> and <code class="docutils literal notranslate"><span class="pre">force_posix</span></code> argument to alter the default path:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Platform</p></th>
<th class="head text-left"><p><code class="docutils literal notranslate"><span class="pre">roaming</span></code></p></th>
<th class="head text-left"><p><code class="docutils literal notranslate"><span class="pre">force_posix</span></code></p></th>
<th class="head text-left"><p>Folder</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>macOS (default)</p></td>
<td class="text-left"><p>-</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~/Library/Application</span> <span class="pre">Support/Foo</span> <span class="pre">Bar</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>macOS</p></td>
<td class="text-left"><p>-</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~/.foo-bar</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Unix (default)</p></td>
<td class="text-left"><p>-</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~/.config/foo-bar</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Unix</p></td>
<td class="text-left"><p>-</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~/.foo-bar</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Windows (default)</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">True</span></code></p></td>
<td class="text-left"><p>-</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">C:\Users\&lt;user&gt;\AppData\Roaming\Foo</span> <span class="pre">Bar</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Windows</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td class="text-left"><p>-</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">C:\Users\&lt;user&gt;\AppData\Local\Foo</span> <span class="pre">Bar</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>Let‚Äôs change the default in the following example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">command</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span>

<span class="nd">@command</span><span class="p">(</span><span class="n">context_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="hll"><span class="nd">@config_option</span><span class="p">(</span><span class="n">force_posix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="k">def</span><span class="w"> </span><span class="nf">cli</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>See how the default to <code class="docutils literal notranslate"><span class="pre">--config</span></code> option has been changed to <code class="docutils literal notranslate"><span class="pre">~/.cli/</span></code>:</p>
<div class="highlight-ansi-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cli<span class="w"> </span>--help
Usage: cli [OPTIONS]

Options:
  --config CONFIG_PATH  Location of the configuration file. Supports local path
<span class="hll">                        with glob patterns or remote URL.  [default: ~/.cli/*.to
</span>                        ml|*.yaml|*.yml|*.json|*.json5|*.jsonc|*.hjson|*.ini|*.x
                        ml]
  --help                Show this message and exit.
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>The default application folder concept has a long and complicated history in the Unix world.</p>
<p>The oldest reference I can track is from the <a class="reference external" href="http://www.catb.org/~esr/writings/taoup/html/ch10s02.html"><em>Where Configurations Live</em></a> chapter from <a class="reference external" href="https://a.co/d/aC36Ft0"><em>The Art of Unix Programming</em></a>.</p>
<p>The <a class="reference external" href="https://specifications.freedesktop.org/basedir/latest/"><em>XDG base directory specification</em></a> is the latest iteration of this tradition on Linux. This long-due guidelines brings <a class="reference external" href="https://xdgbasedirectoryspecification.com">lots of benefits</a> to the platform. This is what Click Extra is <a class="reference internal" href="#default-folder"><span class="xref myst">implementing by default</span></a>.</p>
<p>But there is still a lot of cases for which the XDG doesn‚Äôt cut it, like on other platforms (macOS, Windows, ‚Ä¶) or for legacy applications. That‚Äôs why Click Extra allows you to customize the way configuration is searched and located.</p>
</div>
</section>
<section id="custom-pattern">
<h3>Custom pattern<a class="headerlink" href="#custom-pattern" title="Link to this heading">¬∂</a></h3>
<p>You can directly provide a customized search pattern to the <code class="docutils literal notranslate"><span class="pre">default</span></code> argument of the decorator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">command</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span>

<span class="nd">@command</span><span class="p">(</span><span class="n">context_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="hll"><span class="nd">@config_option</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s2">&quot;~/my_special_folder/*.toml|*.conf&quot;</span><span class="p">)</span>
</span><span class="k">def</span><span class="w"> </span><span class="nf">cli</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<div class="highlight-ansi-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cli<span class="w"> </span>--help
Usage: cli [OPTIONS]

Options:
  --config CONFIG_PATH  Location of the configuration file. Supports local path
                        with glob patterns or remote URL.  [default:
<span class="hll">                        ~/my_special_folder/*.toml|*.conf]
</span>  --help                Show this message and exit.
</pre></div>
</div>
<p>The rules for the pattern are described in the next section.</p>
</section>
<section id="search-pattern-specifications">
<h3>Search pattern specifications<a class="headerlink" href="#search-pattern-specifications" title="Link to this heading">¬∂</a></h3>
<p>Patterns provided to <code class="docutils literal notranslate"><span class="pre">&#64;config_option</span></code>‚Äôs <code class="docutils literal notranslate"><span class="pre">default</span></code> argument:</p>
<ul>
<li><p>Are <a class="reference external" href="https://facelessuser.github.io/wcmatch/glob/#syntax">based on <code class="docutils literal notranslate"><span class="pre">wcmatch.glob</span></code> syntax</a>.</p></li>
<li><p>Should be written with Unix separators (<code class="docutils literal notranslate"><span class="pre">/</span></code>), even for Windows: the <a class="reference external" href="https://facelessuser.github.io/wcmatch/glob/#windows-separators">pattern will be normalized to the local platform dialect</a>.</p></li>
<li><p>Can be absolute or relative paths.</p></li>
<li><p>Have their default case-sensitivity aligned with the local platform:</p>
<ul class="simple">
<li><p>Windows is insensitive to case,</p></li>
<li><p>Unix and macOS are case-sensitive.</p></li>
</ul>
</li>
<li><p>Are setup with the following default flags:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Flag</p></th>
<th class="head text-left"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><a class="reference external" href="https://facelessuser.github.io/wcmatch/glob/#globstar"><code class="docutils literal notranslate"><span class="pre">GLOBSTAR</span></code></a></p></td>
<td class="text-left"><p>Recursive directory search via <code class="docutils literal notranslate"><span class="pre">**</span></code> glob notation.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><a class="reference external" href="https://facelessuser.github.io/wcmatch/glob/#follow"><code class="docutils literal notranslate"><span class="pre">FOLLOW</span></code></a></p></td>
<td class="text-left"><p>Traverse symlink directories.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><a class="reference external" href="https://facelessuser.github.io/wcmatch/glob/#dotglob"><code class="docutils literal notranslate"><span class="pre">DOTGLOB</span></code></a></p></td>
<td class="text-left"><p>Include file or directory starting with a literal dot (<code class="docutils literal notranslate"><span class="pre">.</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><a class="reference external" href="https://facelessuser.github.io/wcmatch/glob/#split"><code class="docutils literal notranslate"><span class="pre">SPLIT</span></code></a></p></td>
<td class="text-left"><p>Allow multiple patterns separated by `</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><a class="reference external" href="https://facelessuser.github.io/wcmatch/glob/#globtilde"><code class="docutils literal notranslate"><span class="pre">GLOBTILDE</span></code></a></p></td>
<td class="text-left"><p>Allow user‚Äôs home path <code class="docutils literal notranslate"><span class="pre">~</span></code> to be expanded.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><a class="reference external" href="https://facelessuser.github.io/wcmatch/glob/#nodir"><code class="docutils literal notranslate"><span class="pre">NODIR</span></code></a></p></td>
<td class="text-left"><p>Restricts results to files.</p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code class="docutils literal notranslate"><span class="pre">NODIR</span></code> flag is always forced, to optimize the search for files only.</p>
</div>
<p>The flags above can be changed via the <a class="reference internal" href="#click_extra.config.ConfigOption"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">search_pattern_flags</span></code> argument of the decorator</span></a>. So to make the matching case-insensitive, add the <code class="docutils literal notranslate"><span class="pre">IGNORECASE</span></code> flag:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">wcmatch.glob</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">GLOBSTAR</span><span class="p">,</span>
    <span class="n">FOLLOW</span><span class="p">,</span>
    <span class="n">DOTGLOB</span><span class="p">,</span>
    <span class="n">SPLIT</span><span class="p">,</span>
    <span class="n">GLOBTILDE</span><span class="p">,</span>
    <span class="n">NODIR</span><span class="p">,</span>
<span class="hll">    <span class="n">IGNORECASE</span>
</span><span class="p">)</span>

<span class="nd">@config_option</span><span class="p">(</span>
    <span class="n">file_pattern_flags</span><span class="o">=</span><span class="p">(</span>
<span class="hll">        <span class="n">GLOBSTAR</span> <span class="o">|</span> <span class="n">FOLLOW</span> <span class="o">|</span> <span class="n">DOTGLOB</span> <span class="o">|</span> <span class="n">SPLIT</span> <span class="o">|</span> <span class="n">GLOBTILDE</span> <span class="o">|</span> <span class="n">NODIR</span> <span class="o">|</span> <span class="n">IGNORECASE</span>
</span>    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>But because of the way flags works, you have to re-specify all flags you want to keep, including the default ones.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>This is the same pinciple as <a class="reference internal" href="#file-pattern-flags"><span class="xref myst">file pattern flags</span></a>.</p>
</div>
</section>
<section id="multi-format-matching">
<h3>Multi-format matching<a class="headerlink" href="#multi-format-matching" title="Link to this heading">¬∂</a></h3>
<p>The default behavior consist in searching for all files matching the default <code class="docutils literal notranslate"><span class="pre">*.toml|*.json|*.ini</span></code> pattern. Or more, depending on the <a class="reference internal" href="install.html#configuration-file-formats"><span class="std std-ref">extra dependencies</span></a> installed with Click Extra.</p>
<p>As soon as files are located, they are matched against each supported format, in order, until one is successfully parsed.</p>
<p>The first successfully parsed file is used to feed the CLI‚Äôs default values.</p>
<p>The search will only consider matches that:</p>
<ul class="simple">
<li><p>exists,</p></li>
<li><p>are a file,</p></li>
<li><p>are not empty,</p></li>
<li><p>matches file format patterns,</p></li>
<li><p>can be parsed successfully, and</p></li>
<li><p>produce a non-empty data structure.</p></li>
</ul>
<p>All others are skipped. And the search continues with the next matching file.</p>
<p>To influence which formats are supported, see the next section.</p>
</section>
<section id="format-selection">
<h3>Format selection<a class="headerlink" href="#format-selection" title="Link to this heading">¬∂</a></h3>
<p>If you want to limit the formats supported by your CLI, you can use the <code class="docutils literal notranslate"><span class="pre">file_format_patterns</span></code> argument to specify which formats are allowed:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">echo</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span><span class="p">,</span> <span class="n">ConfigFormat</span>

<span class="nd">@command</span><span class="p">(</span><span class="n">context_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--int-param&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="hll"><span class="nd">@config_option</span><span class="p">(</span><span class="n">file_format_patterns</span><span class="o">=</span><span class="p">[</span><span class="n">ConfigFormat</span><span class="o">.</span><span class="n">JSON</span><span class="p">,</span> <span class="n">ConfigFormat</span><span class="o">.</span><span class="n">TOML</span><span class="p">])</span>
</span><span class="k">def</span><span class="w"> </span><span class="nf">cli</span><span class="p">(</span><span class="n">int_param</span><span class="p">):</span>
    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;int_parameter is </span><span class="si">{</span><span class="n">int_param</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice how the default search pattern has been restricted to only <code class="docutils literal notranslate"><span class="pre">*.json</span></code> and <code class="docutils literal notranslate"><span class="pre">*.toml</span></code> files, and also that the order is reflected in the help:</p>
<div class="highlight-ansi-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cli<span class="w"> </span>--help
Usage: cli [OPTIONS]

Options:
  --int-param INTEGER   [default: 10]
  --config CONFIG_PATH  Location of the configuration file. Supports local path
                        with glob patterns or remote URL.  [default:
<span class="hll">                        ~/.config/cli/*.json|*.toml]
</span>  --help                Show this message and exit.
</pre></div>
</div>
<p>You can also specify a single format:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">echo</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span><span class="p">,</span> <span class="n">ConfigFormat</span>

<span class="nd">@command</span><span class="p">(</span><span class="n">context_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--int-param&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="hll"><span class="nd">@config_option</span><span class="p">(</span><span class="n">file_format_patterns</span><span class="o">=</span><span class="n">ConfigFormat</span><span class="o">.</span><span class="n">XML</span><span class="p">)</span>
</span><span class="k">def</span><span class="w"> </span><span class="nf">cli</span><span class="p">(</span><span class="n">int_param</span><span class="p">):</span>
    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;int_parameter is </span><span class="si">{</span><span class="n">int_param</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ansi-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cli<span class="w"> </span>--help
Usage: cli [OPTIONS]

Options:
  --int-param INTEGER   [default: 10]
  --config CONFIG_PATH  Location of the configuration file. Supports local path
                        with glob patterns or remote URL.  [default:
<span class="hll">                        ~/.config/cli/*.xml]
</span>  --help                Show this message and exit.
</pre></div>
</div>
</section>
<section id="custom-file-format-patterns">
<h3>Custom file format patterns<a class="headerlink" href="#custom-file-format-patterns" title="Link to this heading">¬∂</a></h3>
<p>Each format is associated with <a class="reference internal" href="click_extra.html#click_extra.DateTime.formats" title="click_extra.DateTime.formats"><span class="xref myst py py-attr">default file patterns</span></a>. But you can also change these with the same <code class="docutils literal notranslate"><span class="pre">file_format_patterns</span></code> argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">echo</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span><span class="p">,</span> <span class="n">ConfigFormat</span>

<span class="nd">@command</span><span class="p">(</span><span class="n">context_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--int-param&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="nd">@config_option</span><span class="p">(</span>
<span class="hll">    <span class="n">file_format_patterns</span><span class="o">=</span><span class="p">{</span>
</span><span class="hll">        <span class="n">ConfigFormat</span><span class="o">.</span><span class="n">TOML</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;*.toml&quot;</span><span class="p">,</span> <span class="s2">&quot;my_app.conf&quot;</span><span class="p">],</span>
</span><span class="hll">        <span class="n">ConfigFormat</span><span class="o">.</span><span class="n">JSON</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;settings*.js&quot;</span><span class="p">,</span> <span class="s2">&quot;*.json&quot;</span><span class="p">],</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cli</span><span class="p">(</span><span class="n">int_param</span><span class="p">):</span>
    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;int_parameter is </span><span class="si">{</span><span class="n">int_param</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Again, this is reflected in the help:</p>
<div class="highlight-ansi-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cli<span class="w"> </span>--help
Usage: cli [OPTIONS]

Options:
  --int-param INTEGER   [default: 10]
  --config CONFIG_PATH  Location of the configuration file. Supports local path
                        with glob patterns or remote URL.  [default:
                        ~/.config/cli/*.toml|my_app.conf|settings*.js|*.json]
<span class="hll">  --help                Show this message and exit.
</span></pre></div>
</div>
</section>
<section id="parsing-priority">
<h3>Parsing priority<a class="headerlink" href="#parsing-priority" title="Link to this heading">¬∂</a></h3>
<p>The syntax of <code class="docutils literal notranslate"><span class="pre">file_format_patterns</span></code> argument allows you to specify either a list of formats, a single format, or a mapping of formats to patterns. And we can even have multiple formats share the same pattern:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">echo</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span><span class="p">,</span> <span class="n">ConfigFormat</span>

<span class="nd">@command</span><span class="p">(</span><span class="n">context_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="nd">@option</span><span class="p">(</span><span class="s2">&quot;--int-param&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="nd">@config_option</span><span class="p">(</span>
<span class="hll">    <span class="n">file_format_patterns</span><span class="o">=</span><span class="p">{</span>
</span><span class="hll">        <span class="n">ConfigFormat</span><span class="o">.</span><span class="n">TOML</span><span class="p">:</span> <span class="s2">&quot;*.toml&quot;</span><span class="p">,</span>
</span><span class="hll">        <span class="n">ConfigFormat</span><span class="o">.</span><span class="n">JSON5</span><span class="p">:</span> <span class="s2">&quot;config*.js&quot;</span><span class="p">,</span>
</span><span class="hll">        <span class="n">ConfigFormat</span><span class="o">.</span><span class="n">JSON</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;config*.js&quot;</span><span class="p">,</span> <span class="s2">&quot;*.js&quot;</span><span class="p">],</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cli</span><span class="p">(</span><span class="n">int_param</span><span class="p">):</span>
    <span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;int_parameter is </span><span class="si">{</span><span class="n">int_param</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice how all formats are merged into the same pattern:</p>
<div class="highlight-ansi-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cli<span class="w"> </span>--help
Usage: cli [OPTIONS]

Options:
  --int-param INTEGER   [default: 10]
  --config CONFIG_PATH  Location of the configuration file. Supports local path
                        with glob patterns or remote URL.  [default:
<span class="hll">                        ~/.config/cli/*.toml|config*.js|*.js]
</span>  --help                Show this message and exit.
</pre></div>
</div>
<p>What will happen in this case is that the search will try to parse matching files first as <code class="docutils literal notranslate"><span class="pre">JSON5</span></code>, then as <code class="docutils literal notranslate"><span class="pre">JSON</span></code>. The first format that successfully parses the file will be used.</p>
<p>So a file named <code class="docutils literal notranslate"><span class="pre">config123.js</span></code> containing valid <code class="docutils literal notranslate"><span class="pre">JSON5</span></code> syntax will be parsed as such, even if it also contains valid <code class="docutils literal notranslate"><span class="pre">JSON</span></code> syntax and match the <code class="docutils literal notranslate"><span class="pre">*.js</span></code> pattern. But if for any reason the <code class="docutils literal notranslate"><span class="pre">JSON5</span></code> parsing fails, the search will try to parse it as <code class="docutils literal notranslate"><span class="pre">JSON</span></code> next, which is the second-best match.</p>
<p>On the other hand, a file named <code class="docutils literal notranslate"><span class="pre">settings.js</span></code> will only be tried as <code class="docutils literal notranslate"><span class="pre">JSON</span></code>, since it doesn‚Äôt match the <code class="docutils literal notranslate"><span class="pre">JSON5</span></code> pattern.</p>
<p>This illustrates the flexibility of this approach, but how the order of formats matter.</p>
</section>
<section id="file-pattern-flags">
<h3>File pattern flags<a class="headerlink" href="#file-pattern-flags" title="Link to this heading">¬∂</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">file_pattern_flags</span></code> argument controls the matching behavior of file patterns.</p>
<p>These flags are defined in <a class="reference external" href="https://facelessuser.github.io/wcmatch/fnmatch/#flags"><code class="docutils literal notranslate"><span class="pre">wcmatch.fnmatch</span></code></a> and default to:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Flag</p></th>
<th class="head text-left"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><a class="reference external" href="https://facelessuser.github.io/wcmatch/fnmatch/#negate"><code class="docutils literal notranslate"><span class="pre">NEGATE</span></code></a></p></td>
<td class="text-left"><p>Adds support of <code class="docutils literal notranslate"><span class="pre">!</span></code> negation to define exclusions.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><a class="reference external" href="https://facelessuser.github.io/wcmatch/fnmatch/#split"><code class="docutils literal notranslate"><span class="pre">SPLIT</span></code></a></p></td>
<td class="text-left"><p>Allow multiple patterns separated by `</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code class="docutils literal notranslate"><span class="pre">SPLIT</span></code> flag is always forced, as our multi-pattern design relies on it.</p>
</div>
<p>If for example, you want to make the matching case-insensitive, you do that by adding the <code class="docutils literal notranslate"><span class="pre">IGNORECASE</span></code> flag:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">wcmatch.fnmatch</span><span class="w"> </span><span class="kn">import</span> <span class="n">NEGATE</span><span class="p">,</span> <span class="n">SPLIT</span><span class="p">,</span> <span class="n">IGNORECASE</span>

<span class="nd">@config_option</span><span class="p">(</span><span class="n">file_pattern_flags</span><span class="o">=</span><span class="n">NEGATE</span> <span class="o">|</span> <span class="n">SPLIT</span> <span class="o">|</span> <span class="n">IGNORECASE</span><span class="p">)</span>
</pre></div>
</div>
<p>But because of the way flags works, you have to re-specify all flags you want to keep, including the default ones.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>This is the same pinciple as <a class="reference internal" href="#search-pattern-specifications"><span class="xref myst">search pattern specifications</span></a>.</p>
</div>
</section>
<section id="excluding-files">
<h3>Excluding files<a class="headerlink" href="#excluding-files" title="Link to this heading">¬∂</a></h3>
<p><a class="reference internal" href="#file-pattern-flags"><span class="xref myst">Negation is active by default</span></a>, which is useful when you want to exclude some files from being considered during the search.</p>
<p>To ignore, for example, all your template files residing alongside real configuration files. Then, to exclude all files starting with <code class="docutils literal notranslate"><span class="pre">template_</span></code> in their name, you can do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@config_option</span><span class="p">(</span>
    <span class="n">file_format_patterns</span><span class="o">=</span><span class="p">{</span>
<span class="hll">        <span class="n">ConfigFormat</span><span class="o">.</span><span class="n">TOML</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;*.toml&quot;</span><span class="p">,</span> <span class="s2">&quot;!template_*.toml&quot;</span><span class="p">],</span>
</span>    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="extension-less-files">
<h3>Extension-less files<a class="headerlink" href="#extension-less-files" title="Link to this heading">¬∂</a></h3>
<p>This demonstrate the popular case on Unix-like systems, where the configuration file is an extension-less dotfile in the home directory.</p>
<p>Here is how to set up <code class="docutils literal notranslate"><span class="pre">&#64;config_option</span></code> for a pre-defined <code class="docutils literal notranslate"><span class="pre">.commandrc</span></code> file in YAML:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">click</span><span class="w"> </span><span class="kn">import</span> <span class="n">command</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">click_extra</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_option</span><span class="p">,</span> <span class="n">ConfigFormat</span>

<span class="nd">@command</span><span class="p">(</span><span class="n">context_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;show_default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="nd">@config_option</span><span class="p">(</span>
<span class="hll">    <span class="n">default</span><span class="o">=</span><span class="s2">&quot;~/*&quot;</span><span class="p">,</span>
</span><span class="hll">    <span class="n">file_format_patterns</span><span class="o">=</span><span class="p">{</span><span class="n">ConfigFormat</span><span class="o">.</span><span class="n">YAML</span><span class="p">:</span> <span class="s2">&quot;.commandrc&quot;</span><span class="p">}</span>
</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cli</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<div class="highlight-ansi-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cli<span class="w"> </span>--help
Usage: cli [OPTIONS]

Options:
  --config CONFIG_PATH  Location of the configuration file. Supports local path
<span class="hll">                        with glob patterns or remote URL.  [default: ~/*]
</span>  --help                Show this message and exit.
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Depending on how you set up your patterns, files starting with a dot (<code class="docutils literal notranslate"><span class="pre">.</span></code>) may not be matched by default. Make sure to include the <a class="reference external" href="https://facelessuser.github.io/wcmatch/fnmatch/#dotmatch"><code class="docutils literal notranslate"><span class="pre">DOTMATCH</span></code></a> flag in <code class="docutils literal notranslate"><span class="pre">file_pattern_flags</span></code> if needed.</p>
</div>
</section>
<section id="remote-url">
<h3>Remote URL<a class="headerlink" href="#remote-url" title="Link to this heading">¬∂</a></h3>
<p>Remote URL can be passed directly to the <code class="docutils literal notranslate"><span class="pre">--config</span></code> option:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="gp">$ </span>my-cli<span class="w"> </span>--config<span class="w"> </span><span class="s2">&quot;https://example.com/dummy/configuration.yaml&quot;</span><span class="w"> </span>subcommand
</span><span class="go">dummy_flag    is True</span>
<span class="go">my_list       is (&#39;point 1&#39;, &#39;point #2&#39;, &#39;Very Last Point!&#39;)</span>
<span class="go">int_parameter is 77</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>URLs do not support multi-format matching. You need to provide a direct link to the configuration file, including its extension.</p>
<p>Glob patterns are also not supported for URLs. Unless you want to let your users download the whole internet‚Ä¶</p>
</div>
</section>
</section>
<section id="click-extra-config-api">
<h2><code class="docutils literal notranslate"><span class="pre">click_extra.config</span></code> API<a class="headerlink" href="#click-extra-config-api" title="Link to this heading">¬∂</a></h2>
<pre  class="mermaid">
        classDiagram
  Enum &lt;|-- ConfigFormat
  Enum &lt;|-- Sentinel
  ExtraOption &lt;|-- ConfigOption
  ExtraOption &lt;|-- NoConfigOption
  ParamStructure &lt;|-- ConfigOption
    </pre><p id="module-click_extra.config">Utilities to load parameters and options from a configuration file.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Why <code class="docutils literal notranslate"><span class="pre">config</span></code>?</p>
<p>That whole namespace is using the common <code class="docutils literal notranslate"><span class="pre">config</span></code> short-name to designate
configuration files.</p>
<p>Not <code class="docutils literal notranslate"><span class="pre">conf</span></code>, not <code class="docutils literal notranslate"><span class="pre">cfg</span></code>, not <code class="docutils literal notranslate"><span class="pre">configuration</span></code>, not <code class="docutils literal notranslate"><span class="pre">settings</span></code>. Just <code class="docutils literal notranslate"><span class="pre">config</span></code>.</p>
<p>A quick survey of existing practices, and poll to my friends informed me that
<code class="docutils literal notranslate"><span class="pre">config</span></code> is more explicit and less likely to be misunderstood.</p>
<p>After all, is there a chance for it to be misunderstood, in the context of a CLI,
for something else? <em>Confirm</em>? <em>Conference</em>? <em>Conflict</em> <em>Confuse</em>?‚Ä¶</p>
<p>So yes, <code class="docutils literal notranslate"><span class="pre">config</span></code> is good enough.</p>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Add a <code class="docutils literal notranslate"><span class="pre">--dump-config</span></code> or <code class="docutils literal notranslate"><span class="pre">--export-config</span></code> option to write down the current
configuration (or a template) into a file or <code class="docutils literal notranslate"><span class="pre">&lt;stdout&gt;</span></code>.</p>
<p>Help message would be: <em>you can use this option with other options or environment
variables to have them set in the generated configuration</em>.</p>
</div>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Add a <code class="docutils literal notranslate"><span class="pre">ParameterSource.CONFIG_FILE</span></code> entry to the <code class="docutils literal notranslate"><span class="pre">ParameterSource</span></code> enum?
Also see: <a class="reference external" href="https://github.com/pallets/click/issues/2879">https://github.com/pallets/click/issues/2879</a></p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">click_extra.config.</span></span><span class="sig-name descname"><span class="pre">ConfigFormat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigFormat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigFormat" title="Link to this definition">¬∂</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a></p>
<p>All configuration formats, associated to their support status.</p>
<p>The first element of the tuple is a sequence of file extensions associated to the
format. Patterns are fed to <code class="docutils literal notranslate"><span class="pre">wcmatch.glob</span></code> for matching, and are influenced by the
flags set on the <code class="docutils literal notranslate"><span class="pre">ConfigOption</span></code> instance.</p>
<p>The second element indicates whether the format is supported or not, depending on
the availability of the required third-party packages. This evaluation is performed
at runtime when this module is imported.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The order is important for both format members and file patterns. It defines the
priority order in which formats are tried when multiple candidate files are found.</p>
</div>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>Add support for <a class="reference external" href="https://nigeltao.github.io/blog/2021/json-with-commas-comments.html">JWCC</a>
/ <a class="reference external" href="https://github.com/tailscale/hujson">hujson</a> format?</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat.TOML">
<span class="sig-name descname"><span class="pre">TOML</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(('*.toml',),</span> <span class="pre">True)</span></span><a class="headerlink" href="#click_extra.config.ConfigFormat.TOML" title="Link to this definition">¬∂</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat.YAML">
<span class="sig-name descname"><span class="pre">YAML</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(('*.yaml',</span> <span class="pre">'*.yml'),</span> <span class="pre">True)</span></span><a class="headerlink" href="#click_extra.config.ConfigFormat.YAML" title="Link to this definition">¬∂</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat.JSON">
<span class="sig-name descname"><span class="pre">JSON</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(('*.json',),</span> <span class="pre">True)</span></span><a class="headerlink" href="#click_extra.config.ConfigFormat.JSON" title="Link to this definition">¬∂</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat.JSON5">
<span class="sig-name descname"><span class="pre">JSON5</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(('*.json5',),</span> <span class="pre">True)</span></span><a class="headerlink" href="#click_extra.config.ConfigFormat.JSON5" title="Link to this definition">¬∂</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat.JSONC">
<span class="sig-name descname"><span class="pre">JSONC</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(('*.jsonc',),</span> <span class="pre">True)</span></span><a class="headerlink" href="#click_extra.config.ConfigFormat.JSONC" title="Link to this definition">¬∂</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat.HJSON">
<span class="sig-name descname"><span class="pre">HJSON</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(('*.hjson',),</span> <span class="pre">True)</span></span><a class="headerlink" href="#click_extra.config.ConfigFormat.HJSON" title="Link to this definition">¬∂</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat.INI">
<span class="sig-name descname"><span class="pre">INI</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(('*.ini',),</span> <span class="pre">True)</span></span><a class="headerlink" href="#click_extra.config.ConfigFormat.INI" title="Link to this definition">¬∂</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat.XML">
<span class="sig-name descname"><span class="pre">XML</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(('*.xml',),</span> <span class="pre">True)</span></span><a class="headerlink" href="#click_extra.config.ConfigFormat.XML" title="Link to this definition">¬∂</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat.enabled">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">enabled</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><a class="headerlink" href="#click_extra.config.ConfigFormat.enabled" title="Link to this definition">¬∂</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the format is supported, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="click_extra.config.ConfigFormat.patterns">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">patterns</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><a class="headerlink" href="#click_extra.config.ConfigFormat.patterns" title="Link to this definition">¬∂</a></dt>
<dd><p>Returns the default file patterns associated to the format.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="click_extra.config.CONFIG_OPTION_NAME">
<span class="sig-prename descclassname"><span class="pre">click_extra.config.</span></span><span class="sig-name descname"><span class="pre">CONFIG_OPTION_NAME</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'config'</span></span><a class="headerlink" href="#click_extra.config.CONFIG_OPTION_NAME" title="Link to this definition">¬∂</a></dt>
<dd><p>Hardcoded name of the configuration option.</p>
<p>This name is going to be shared by both the <code class="docutils literal notranslate"><span class="pre">--config</span></code> and <code class="docutils literal notranslate"><span class="pre">--no-config</span></code> options
below, so they can compete with each other to either set a path pattern or disable the
use of any configuration file at all.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="click_extra.config.DEFAULT_EXCLUDED_PARAMS">
<span class="sig-prename descclassname"><span class="pre">click_extra.config.</span></span><span class="sig-name descname"><span class="pre">DEFAULT_EXCLUDED_PARAMS</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('config',</span> <span class="pre">'help',</span> <span class="pre">'show_params',</span> <span class="pre">'version')</span></span><a class="headerlink" href="#click_extra.config.DEFAULT_EXCLUDED_PARAMS" title="Link to this definition">¬∂</a></dt>
<dd><p>Default parameter IDs to exclude from the configuration file.</p>
<p>Defaults to:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--config</span></code> option, which cannot be used to recursively load another configuration
file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--help</span></code>, as it makes no sense to have the configurable file always forces a CLI to
show the help and exit.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--show-params</span></code> flag, which is like <code class="docutils literal notranslate"><span class="pre">--help</span></code> and stops the CLI execution.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--version</span></code>, which is not a configurable option <em>per-se</em>.</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="click_extra.config.Sentinel">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">click_extra.config.</span></span><span class="sig-name descname"><span class="pre">Sentinel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#Sentinel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.Sentinel" title="Link to this definition">¬∂</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a></p>
<p>Enum used to define sentinel values.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This reuse the same pattern as <code class="docutils literal notranslate"><span class="pre">Click._utils.Sentinel</span></code>.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://peps.python.org/pep-0661/">PEP 661 - Sentinel Values</a>.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.Sentinel.NO_CONFIG">
<span class="sig-name descname"><span class="pre">NO_CONFIG</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;object</span> <span class="pre">object&gt;</span></span><a class="headerlink" href="#click_extra.config.Sentinel.NO_CONFIG" title="Link to this definition">¬∂</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="click_extra.config.NO_CONFIG">
<span class="sig-prename descclassname"><span class="pre">click_extra.config.</span></span><span class="sig-name descname"><span class="pre">NO_CONFIG</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">Sentinel.NO_CONFIG</span></span><a class="headerlink" href="#click_extra.config.NO_CONFIG" title="Link to this definition">¬∂</a></dt>
<dd><p>Sentinel used to indicate that no configuration file must be used at all.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">click_extra.config.</span></span><span class="sig-name descname"><span class="pre">ConfigOption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_decls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metavar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CONFIG_PATH'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">UNPROCESSED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Location</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">configuration</span> <span class="pre">file.</span> <span class="pre">Supports</span> <span class="pre">local</span> <span class="pre">path</span> <span class="pre">with</span> <span class="pre">glob</span> <span class="pre">patterns</span> <span class="pre">or</span> <span class="pre">remote</span> <span class="pre">URL.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expose_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format_patterns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_pattern_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4104</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roaming</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_posix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_pattern_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">284992</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_parents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excluded_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption" title="Link to this definition">¬∂</a></dt>
<dd><p>Bases: <a class="reference internal" href="parameters.html#click_extra.parameters.ExtraOption" title="click_extra.parameters.ExtraOption"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExtraOption</span></code></a>, <a class="reference internal" href="parameters.html#click_extra.parameters.ParamStructure" title="click_extra.parameters.ParamStructure"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParamStructure</span></code></a></p>
<p>A pre-configured option adding <code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">CONFIG_PATH</span></code>.</p>
<p>Takes as input a path to a file or folder, a glob pattern, or an URL.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">is_eager</span></code> is active by default so the <code class="docutils literal notranslate"><span class="pre">callback</span></code> gets the opportunity to
set the <code class="docutils literal notranslate"><span class="pre">default_map</span></code> of the CLI before any other parameter is processed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code> is set to the value returned by <code class="docutils literal notranslate"><span class="pre">self.default_pattern()</span></code>, which
is a pattern combining the default configuration folder for the CLI (as
returned by <code class="docutils literal notranslate"><span class="pre">click.get_app_dir()</span></code>) and all supported file formats.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Default search pattern must follow the syntax of <a class="reference external" href="https://facelessuser.github.io/wcmatch/glob/#syntax">wcmatch.glob</a>.</p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">excluded_params</span></code> are parameters which, if present in the configuration
file, will be ignored and not applied to the CLI. Items are expected to be the
fully-qualified ID of the parameter, as produced in the output of
<code class="docutils literal notranslate"><span class="pre">--show-params</span></code>. Will default to the value of <code class="docutils literal notranslate"><span class="pre">DEFAULT_EXCLUDED_PARAMS</span></code>.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.file_format_patterns">
<span class="sig-name descname"><span class="pre">file_format_patterns</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#click_extra.config.ConfigFormat" title="click_extra.config.ConfigFormat"><span class="pre">ConfigFormat</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><a class="headerlink" href="#click_extra.config.ConfigOption.file_format_patterns" title="Link to this definition">¬∂</a></dt>
<dd><p>Mapping of <code class="docutils literal notranslate"><span class="pre">ConfigFormat</span></code> to their associated file patterns.</p>
<p>Can be a string or a sequence of strings. This defines which configuration file
formats are supported, and which file patterns are used to search for them.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All formats depending on third-party dependencies that are not installed
will be ignored.</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>File patterns must follow the syntax of <a class="reference external" href="https://facelessuser.github.io/wcmatch/fnmatch/#syntax">wcmatch.fnmatch</a>.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.file_pattern_flags">
<span class="sig-name descname"><span class="pre">file_pattern_flags</span></span><a class="headerlink" href="#click_extra.config.ConfigOption.file_pattern_flags" title="Link to this definition">¬∂</a></dt>
<dd><p>Flags provided to all calls of <code class="docutils literal notranslate"><span class="pre">wcmatch.fnmatch</span></code>.</p>
<p>Applies to the matching of file names against supported format patterns
specified in <code class="docutils literal notranslate"><span class="pre">file_format_patterns</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code class="docutils literal notranslate"><span class="pre">SPLIT</span></code> flag is always forced, as our multi-pattern design relies on
it.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.force_posix">
<span class="sig-name descname"><span class="pre">force_posix</span></span><a class="headerlink" href="#click_extra.config.ConfigOption.force_posix" title="Link to this definition">¬∂</a></dt>
<dd><p>Configuration for default folder search.</p>
<p><code class="docutils literal notranslate"><span class="pre">roaming</span></code> and <code class="docutils literal notranslate"><span class="pre">force_posix</span></code> are <a class="reference external" href="https://click.palletsprojects.com/en/stable/api/#click.get_app_dir">fed to click.get_app_dir()</a> to
determine the location of the default configuration folder.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.search_pattern_flags">
<span class="sig-name descname"><span class="pre">search_pattern_flags</span></span><a class="headerlink" href="#click_extra.config.ConfigOption.search_pattern_flags" title="Link to this definition">¬∂</a></dt>
<dd><p>Flags provided to all calls of <code class="docutils literal notranslate"><span class="pre">wcmatch.glob</span></code>.</p>
<p>Applies to both the default pattern and any user-provided pattern.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code class="docutils literal notranslate"><span class="pre">NODIR</span></code> flag is always forced, to optimize the search for files only.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.search_parents">
<span class="sig-name descname"><span class="pre">search_parents</span></span><a class="headerlink" href="#click_extra.config.ConfigOption.search_parents" title="Link to this definition">¬∂</a></dt>
<dd><p>Indicates whether to walk back the tree of parent folders when searching for
configuration files.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.strict">
<span class="sig-name descname"><span class="pre">strict</span></span><a class="headerlink" href="#click_extra.config.ConfigOption.strict" title="Link to this definition">¬∂</a></dt>
<dd><p>Defines the strictness of the configuration loading.</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, raise an error if the configuration file contain parameters not
recognized by the CLI.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">False</span></code>, silently ignore unrecognized parameters.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.excluded_params">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">excluded_params</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#frozenset" title="(in Python v3.14)"><span class="pre">frozenset</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.excluded_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.excluded_params" title="Link to this definition">¬∂</a></dt>
<dd><p>Generates the default list of fully-qualified IDs to exclude.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>It is only called once to produce the default exclusion list if the user did
not provided its own.</p>
<p>It was not implemented in the constructor but made as a property, to allow
for a just-in-time call within the current context. Without this trick we could
not have fetched the CLI name.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.file_pattern">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">file_pattern</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.file_pattern"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.file_pattern" title="Link to this definition">¬∂</a></dt>
<dd><p>Compile all file patterns from the supported formats.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">|</span></code> split notation to combine multiple patterns.</p>
<p>Returns a single pattern string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.default_pattern">
<span class="sig-name descname"><span class="pre">default_pattern</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.default_pattern"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.default_pattern" title="Link to this definition">¬∂</a></dt>
<dd><p>Returns the default pattern used to search for the configuration file.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">&lt;app_dir&gt;/*.toml|*.json|*.ini</span></code>. Where <code class="docutils literal notranslate"><span class="pre">&lt;app_dir&gt;</span></code> is produced by
the <a class="reference external" href="https://click.palletsprojects.com/en/stable/api/#click.get_app_dir">clickget_app_dir() method</a>.
The result depends on OS and is influenced by the <code class="docutils literal notranslate"><span class="pre">roaming</span></code> and
<code class="docutils literal notranslate"><span class="pre">force_posix</span></code> properties.</p>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>Use <a class="reference external" href="https://github.com/tox-dev/platformdirs">platformdirs</a> for more
advanced configuration folder detection?</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.get_help_extra">
<span class="sig-name descname"><span class="pre">get_help_extra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.get_help_extra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.get_help_extra" title="Link to this definition">¬∂</a></dt>
<dd><p>Replaces the default value of the configuration option.</p>
<p>Display a pretty path that is relative to the user‚Äôs home directory:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>~/folder/my_cli/*.toml|*.json|*.ini
</pre></div>
</div>
<p>Instead of the full absolute path:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/home/user/folder/my_cli/*.toml|*.json|*.ini
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>This only applies when the <code class="docutils literal notranslate"><span class="pre">GLOBTILDE</span></code> flag is set in <code class="docutils literal notranslate"><span class="pre">search_pattern_flags</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptionHelpExtra</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.parent_patterns">
<span class="sig-name descname"><span class="pre">parent_patterns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.parent_patterns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.parent_patterns" title="Link to this definition">¬∂</a></dt>
<dd><p>Generate patterns for parent directories lookup.</p>
<p>Yields patterns for each parent directory of the given <code class="docutils literal notranslate"><span class="pre">pattern</span></code>.</p>
<p>The first yielded pattern is the original one.</p>
<p>Stops when reaching the root folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.search_and_read_file">
<span class="sig-name descname"><span class="pre">search_and_read_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.search_and_read_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.search_and_read_file" title="Link to this definition">¬∂</a></dt>
<dd><p>Search filesystem or URL for files matching the <code class="docutils literal notranslate"><span class="pre">pattern</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">pattern</span></code> is an URL, download its content. A pattern is considered an URL
only if it validates as one and starts with <code class="docutils literal notranslate"><span class="pre">http://</span></code> or <code class="docutils literal notranslate"><span class="pre">https://</span></code>. All
other patterns are considered glob patterns for local filesystem search.</p>
<p>Returns an iterator of the normalized location and its raw content, for each
one matching the pattern. Only files are returned, directories are silently
skipped.</p>
<p>This method returns the raw content of all matching patterns, without trying to
parse them. If the content is empty, it is still returned as-is.</p>
<p>Also includes lookups into parents directories if <code class="docutils literal notranslate"><span class="pre">self.search_parents</span></code> is
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Raises <code class="docutils literal notranslate"><span class="pre">FileNotFoundError</span></code> if no file was found after searching all locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a> | <code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.parse_conf">
<span class="sig-name descname"><span class="pre">parse_conf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formats</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.parse_conf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.parse_conf" title="Link to this definition">¬∂</a></dt>
<dd><p>Parse the <code class="docutils literal notranslate"><span class="pre">content</span></code> with the given <code class="docutils literal notranslate"><span class="pre">formats</span></code>.</p>
<p>Tries to parse the given raw <code class="docutils literal notranslate"><span class="pre">content</span></code> string with each of the given
<code class="docutils literal notranslate"><span class="pre">formats</span></code>, in order. Yields the resulting data structure for each
successful parse.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Formats whose parsing raises an exception or does not return a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
are considered a failure and are skipped.</p>
<p>This follows the <em>parse, don‚Äôt validate</em> principle.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.read_and_parse_conf">
<span class="sig-name descname"><span class="pre">read_and_parse_conf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.read_and_parse_conf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.read_and_parse_conf" title="Link to this definition">¬∂</a></dt>
<dd><p>Search for a parseable configuration file.</p>
<p>Returns the location and data structure of the first configuration matching the
<code class="docutils literal notranslate"><span class="pre">pattern</span></code>.</p>
<p>Only return the first match that:</p>
<ul class="simple">
<li><p>exists,</p></li>
<li><p>is a file,</p></li>
<li><p>is not empty,</p></li>
<li><p>match file format patterns,</p></li>
<li><p>can be parsed successfully, and</p></li>
<li><p>produce a non-empty data structure.</p></li>
</ul>
<p>Raises <code class="docutils literal notranslate"><span class="pre">FileNotFoundError</span></code> if no configuration file was found matching the
criteria above.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">None)</span></code> if files were found but none could be parsed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a> | <code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.load_ini_config">
<span class="sig-name descname"><span class="pre">load_ini_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.load_ini_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.load_ini_config" title="Link to this definition">¬∂</a></dt>
<dd><p>Utility method to parse INI configuration file.</p>
<p>Internal convention is to use a dot (<code class="docutils literal notranslate"><span class="pre">.</span></code>, as set by <code class="docutils literal notranslate"><span class="pre">self.SEP</span></code>) in
section IDs as a separator between levels. This is a workaround
the limitation of <code class="docutils literal notranslate"><span class="pre">INI</span></code> format which doesn‚Äôt allow for sub-sections.</p>
<p>Returns a ready-to-use data structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.merge_default_map">
<span class="sig-name descname"><span class="pre">merge_default_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_conf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.merge_default_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.merge_default_map" title="Link to this definition">¬∂</a></dt>
<dd><p>Save the user configuration into the context‚Äôs <code class="docutils literal notranslate"><span class="pre">default_map</span></code>.</p>
<p>Merge the user configuration into the pre-computed template structure, which
will filter out all unrecognized options not supported by the command. Then
cleans up blank values and update the context‚Äôs <code class="docutils literal notranslate"><span class="pre">default_map</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="click_extra.config.ConfigOption.load_conf">
<span class="sig-name descname"><span class="pre">load_conf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_pattern</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#ConfigOption.load_conf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.ConfigOption.load_conf" title="Link to this definition">¬∂</a></dt>
<dd><p>Fetch parameters values from configuration file and sets them as defaults.</p>
<p>User configuration is merged to the <a class="reference external" href="https://click.palletsprojects.com/en/stable/commands/#overriding-defaults">context‚Äôs default_map</a>,
<a class="reference external" href="https://click.palletsprojects.com/en/stable/commands/#context-defaults">like Click does</a>.</p>
<p>By relying on Click‚Äôs <code class="docutils literal notranslate"><span class="pre">default_map</span></code>, we make sure that precedence is
respected. And direct CLI parameters, environment variables or interactive
prompts takes precedence over any values from the config file.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="click_extra.config.NoConfigOption">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">click_extra.config.</span></span><span class="sig-name descname"><span class="pre">NoConfigOption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_decls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">UNPROCESSED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Ignore</span> <span class="pre">all</span> <span class="pre">configuration</span> <span class="pre">files</span> <span class="pre">and</span> <span class="pre">only</span> <span class="pre">use</span> <span class="pre">command</span> <span class="pre">line</span> <span class="pre">parameters</span> <span class="pre">and</span> <span class="pre">environment</span> <span class="pre">variables.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_flag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Sentinel.NO_CONFIG</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_eager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expose_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#NoConfigOption"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.NoConfigOption" title="Link to this definition">¬∂</a></dt>
<dd><p>Bases: <a class="reference internal" href="parameters.html#click_extra.parameters.ExtraOption" title="click_extra.parameters.ExtraOption"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExtraOption</span></code></a></p>
<p>A pre-configured option adding <code class="docutils literal notranslate"><span class="pre">--no-config</span></code>.</p>
<p>This option is supposed to be used alongside the <code class="docutils literal notranslate"><span class="pre">--config</span></code> option
(<code class="docutils literal notranslate"><span class="pre">ConfigOption</span></code>) to allow users to explicitly disable the use of any
configuration file.</p>
<p>This is especially useful to debug side-effects caused by autodetection of
configuration files.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>An alternative implementation of this class would be to create a custom
<a class="reference external" href="https://click.palletsprojects.com/en/stable/api/#click.ParamType">click.ParamType</a>
instead of a custom <code class="docutils literal notranslate"><span class="pre">Option</span></code> subclass. <a class="reference external" href="https://github.com/pallets/click/issues/3024#issuecomment-3146511356">Here is for example</a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="click_extra.config.NoConfigOption.check_sibling_config_option">
<span class="sig-name descname"><span class="pre">check_sibling_config_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/click_extra/config.html#NoConfigOption.check_sibling_config_option"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#click_extra.config.NoConfigOption.check_sibling_config_option" title="Link to this definition">¬∂</a></dt>
<dd><p>Ensure that this option is used alongside a <code class="docutils literal notranslate"><span class="pre">ConfigOption</span></code> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="colorize.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-paintbrush" viewBox="0 0 16 16" aria-hidden="true"><path d="M11.134 1.535c.7-.509 1.416-.942 2.076-1.155.649-.21 1.463-.267 2.069.34.603.601.568 1.411.368 2.07-.202.668-.624 1.39-1.125 2.096-1.011 1.424-2.496 2.987-3.775 4.249-1.098 1.084-2.132 1.839-3.04 2.3a3.744 3.744 0 0 1-1.055 3.217c-.431.431-1.065.691-1.657.861-.614.177-1.294.287-1.914.357A21.151 21.151 0 0 1 .797 16H.743l.007-.75H.749L.742 16a.75.75 0 0 1-.743-.742l.743-.008-.742.007v-.054a21.25 21.25 0 0 1 .13-2.284c.067-.647.187-1.287.358-1.914.17-.591.43-1.226.86-1.657a3.746 3.746 0 0 1 3.227-1.054c.466-.893 1.225-1.907 2.314-2.982 1.271-1.255 2.833-2.75 4.245-3.777ZM1.62 13.089c-.051.464-.086.929-.104 1.395.466-.018.932-.053 1.396-.104a10.511 10.511 0 0 0 1.668-.309c.526-.151.856-.325 1.011-.48a2.25 2.25 0 1 0-3.182-3.182c-.155.155-.329.485-.48 1.01a10.515 10.515 0 0 0-.309 1.67Zm10.396-10.34c-1.224.89-2.605 2.189-3.822 3.384l1.718 1.718c1.21-1.205 2.51-2.597 3.387-3.833.47-.662.78-1.227.912-1.662.134-.444.032-.551.009-.575h-.001V1.78c-.014-.014-.113-.113-.548.027-.432.14-.995.462-1.655.942Zm-4.832 7.266-.001.001a9.859 9.859 0 0 0 1.63-1.142L7.155 7.216a9.7 9.7 0 0 0-1.161 1.607c.482.302.889.71 1.19 1.192Z"></path></svg> Colored help</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="commands.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-command-palette" viewBox="0 0 16 16" aria-hidden="true"><path d="m6.354 8.04-4.773 4.773a.75.75 0 1 0 1.061 1.06L7.945 8.57a.75.75 0 0 0 0-1.06L2.642 2.206a.75.75 0 0 0-1.06 1.061L6.353 8.04ZM8.75 11.5a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Z"></path></svg> Commands &amp; groups</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Kevin Deldycke and contributors
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2026-02-21</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-sliders" viewBox="0 0 16 16" aria-hidden="true"><path d="M15 2.75a.75.75 0 0 1-.75.75h-4a.75.75 0 0 1 0-1.5h4a.75.75 0 0 1 .75.75Zm-8.5.75v1.25a.75.75 0 0 0 1.5 0v-4a.75.75 0 0 0-1.5 0V2H1.75a.75.75 0 0 0 0 1.5H6.5Zm1.25 5.25a.75.75 0 0 0 0-1.5h-6a.75.75 0 0 0 0 1.5h6ZM15 8a.75.75 0 0 1-.75.75H11.5V10a.75.75 0 1 1-1.5 0V6a.75.75 0 0 1 1.5 0v1.25h2.75A.75.75 0 0 1 15 8Zm-9 5.25v-2a.75.75 0 0 0-1.5 0v1.25H1.75a.75.75 0 0 0 0 1.5H4.5v1.25a.75.75 0 0 0 1.5 0v-2Zm9 0a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1 0-1.5h6a.75.75 0 0 1 .75.75Z"></path></svg> Configuration files</a><ul>
<li><a class="reference internal" href="#standalone-option">Standalone option</a></li>
<li><a class="reference internal" href="#precedence">Precedence</a></li>
<li><a class="reference internal" href="#get-configuration-values">Get configuration values</a></li>
<li><a class="reference internal" href="#strictness">Strictness</a></li>
<li><a class="reference internal" href="#excluding-parameters">Excluding parameters</a></li>
<li><a class="reference internal" href="#disabling-autodiscovery">Disabling autodiscovery</a></li>
<li><a class="reference internal" href="#formats">Formats</a><ul>
<li><a class="reference internal" href="#toml">TOML</a></li>
<li><a class="reference internal" href="#yaml">YAML</a></li>
<li><a class="reference internal" href="#json">JSON</a></li>
<li><a class="reference internal" href="#json5">JSON5</a></li>
<li><a class="reference internal" href="#jsonc">JSONC</a></li>
<li><a class="reference internal" href="#hjson">HJSON</a></li>
<li><a class="reference internal" href="#ini">INI</a></li>
<li><a class="reference internal" href="#xml">XML</a></li>
</ul>
</li>
<li><a class="reference internal" href="#search-pattern">Search pattern</a><ul>
<li><a class="reference internal" href="#default-folder">Default folder</a></li>
<li><a class="reference internal" href="#custom-pattern">Custom pattern</a></li>
<li><a class="reference internal" href="#search-pattern-specifications">Search pattern specifications</a></li>
<li><a class="reference internal" href="#multi-format-matching">Multi-format matching</a></li>
<li><a class="reference internal" href="#format-selection">Format selection</a></li>
<li><a class="reference internal" href="#custom-file-format-patterns">Custom file format patterns</a></li>
<li><a class="reference internal" href="#parsing-priority">Parsing priority</a></li>
<li><a class="reference internal" href="#file-pattern-flags">File pattern flags</a></li>
<li><a class="reference internal" href="#excluding-files">Excluding files</a></li>
<li><a class="reference internal" href="#extension-less-files">Extension-less files</a></li>
<li><a class="reference internal" href="#remote-url">Remote URL</a></li>
</ul>
</li>
<li><a class="reference internal" href="#click-extra-config-api"><code class="docutils literal notranslate"><span class="pre">click_extra.config</span></code> API</a><ul>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat"><code class="docutils literal notranslate"><span class="pre">ConfigFormat</span></code></a><ul>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat.TOML"><code class="docutils literal notranslate"><span class="pre">ConfigFormat.TOML</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat.YAML"><code class="docutils literal notranslate"><span class="pre">ConfigFormat.YAML</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat.JSON"><code class="docutils literal notranslate"><span class="pre">ConfigFormat.JSON</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat.JSON5"><code class="docutils literal notranslate"><span class="pre">ConfigFormat.JSON5</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat.JSONC"><code class="docutils literal notranslate"><span class="pre">ConfigFormat.JSONC</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat.HJSON"><code class="docutils literal notranslate"><span class="pre">ConfigFormat.HJSON</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat.INI"><code class="docutils literal notranslate"><span class="pre">ConfigFormat.INI</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat.XML"><code class="docutils literal notranslate"><span class="pre">ConfigFormat.XML</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat.enabled"><code class="docutils literal notranslate"><span class="pre">ConfigFormat.enabled</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigFormat.patterns"><code class="docutils literal notranslate"><span class="pre">ConfigFormat.patterns</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#click_extra.config.CONFIG_OPTION_NAME"><code class="docutils literal notranslate"><span class="pre">CONFIG_OPTION_NAME</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.DEFAULT_EXCLUDED_PARAMS"><code class="docutils literal notranslate"><span class="pre">DEFAULT_EXCLUDED_PARAMS</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.Sentinel"><code class="docutils literal notranslate"><span class="pre">Sentinel</span></code></a><ul>
<li><a class="reference internal" href="#click_extra.config.Sentinel.NO_CONFIG"><code class="docutils literal notranslate"><span class="pre">Sentinel.NO_CONFIG</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#click_extra.config.NO_CONFIG"><code class="docutils literal notranslate"><span class="pre">NO_CONFIG</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption"><code class="docutils literal notranslate"><span class="pre">ConfigOption</span></code></a><ul>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.file_format_patterns"><code class="docutils literal notranslate"><span class="pre">ConfigOption.file_format_patterns</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.file_pattern_flags"><code class="docutils literal notranslate"><span class="pre">ConfigOption.file_pattern_flags</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.force_posix"><code class="docutils literal notranslate"><span class="pre">ConfigOption.force_posix</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.search_pattern_flags"><code class="docutils literal notranslate"><span class="pre">ConfigOption.search_pattern_flags</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.search_parents"><code class="docutils literal notranslate"><span class="pre">ConfigOption.search_parents</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.strict"><code class="docutils literal notranslate"><span class="pre">ConfigOption.strict</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.excluded_params"><code class="docutils literal notranslate"><span class="pre">ConfigOption.excluded_params</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.file_pattern"><code class="docutils literal notranslate"><span class="pre">ConfigOption.file_pattern</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.default_pattern"><code class="docutils literal notranslate"><span class="pre">ConfigOption.default_pattern()</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.get_help_extra"><code class="docutils literal notranslate"><span class="pre">ConfigOption.get_help_extra()</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.parent_patterns"><code class="docutils literal notranslate"><span class="pre">ConfigOption.parent_patterns()</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.search_and_read_file"><code class="docutils literal notranslate"><span class="pre">ConfigOption.search_and_read_file()</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.parse_conf"><code class="docutils literal notranslate"><span class="pre">ConfigOption.parse_conf()</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.read_and_parse_conf"><code class="docutils literal notranslate"><span class="pre">ConfigOption.read_and_parse_conf()</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.load_ini_config"><code class="docutils literal notranslate"><span class="pre">ConfigOption.load_ini_config()</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.merge_default_map"><code class="docutils literal notranslate"><span class="pre">ConfigOption.merge_default_map()</span></code></a></li>
<li><a class="reference internal" href="#click_extra.config.ConfigOption.load_conf"><code class="docutils literal notranslate"><span class="pre">ConfigOption.load_conf()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#click_extra.config.NoConfigOption"><code class="docutils literal notranslate"><span class="pre">NoConfigOption</span></code></a><ul>
<li><a class="reference internal" href="#click_extra.config.NoConfigOption.check_sibling_config_option"><code class="docutils literal notranslate"><span class="pre">NoConfigOption.check_sibling_config_option()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=c403aa1a"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
    <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs";





const initStyles = () => {
    const defaultStyle = document.createElement('style');
    defaultStyle.textContent = `pre.mermaid {
    /* Same as .mermaid-container > pre */
    display: block;
    width: 100%;
}

pre.mermaid > svg {
    /* Same as .mermaid-container > pre > svg */
    height: 500px;
    width: 100%;
    max-width: 100% !important;
}`;
    document.head.appendChild(defaultStyle);

    const fullscreenStyle = document.createElement('style');
    fullscreenStyle.textContent = `.mermaid-container {
    display: flex;
    flex-direction: row;
    width: 100%;
}

.mermaid-container > pre {
    display: block;
    width: 100%;
}

.mermaid-container > pre > svg {
    height: 500px;
    width: 100%;
    max-width: 100% !important;
}

.mermaid-fullscreen-btn {
    width: 28px;
    height: 28px;
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    font-size: 14px;
    line-height: 1;
    padding: 0;
    color: #333;
}

.mermaid-fullscreen-btn:hover {
    opacity: 100% !important;
    background: rgba(255, 255, 255, 1);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
    transform: scale(1.1);
}

.mermaid-fullscreen-btn.dark-theme {
    background: rgba(50, 50, 50, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: #e0e0e0;
}

.mermaid-fullscreen-btn.dark-theme:hover {
    background: rgba(60, 60, 60, 1);
    box-shadow: 0 3px 10px rgba(255, 255, 255, 0.2);
}

.mermaid-fullscreen-modal {
    display: none;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 95vw;
    height: 100vh;
    background: rgba(255, 255, 255, 0.98);
    z-index: 9999;
    padding: 20px;
    overflow: auto;
}

.mermaid-fullscreen-modal.dark-theme {
    background: rgba(0, 0, 0, 0.98);
}

.mermaid-fullscreen-modal.active {
    display: flex;
    align-items: center;
    justify-content: center;
}

.mermaid-container-fullscreen {
    position: relative;
    width: 95vw;
    height: 90vh;
    max-width: 95vw;
    max-height: 90vh;
    background: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    overflow: auto;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mermaid-container-fullscreen.dark-theme {
    background: #1a1a1a;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
}

.mermaid-container-fullscreen pre.mermaid {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mermaid-container-fullscreen .mermaid svg {
    height: 100% !important;
    width: 100% !important;
    cursor: grab;
}

.mermaid-fullscreen-close {
    position: fixed !important;
    top: 20px !important;
    right: 20px !important;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 50%;
    cursor: pointer;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    transition: all 0.2s;
    font-size: 24px;
    line-height: 1;
    color: #333;
}

.mermaid-fullscreen-close:hover {
    background: white;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
    transform: scale(1.1);
}

.mermaid-fullscreen-close.dark-theme {
    background: rgba(50, 50, 50, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0e0e0;
}

.mermaid-fullscreen-close.dark-theme:hover {
    background: rgba(60, 60, 60, 1);
    box-shadow: 0 6px 16px rgba(255, 255, 255, 0.2);
}

.mermaid-fullscreen-modal .mermaid-fullscreen-btn {
    display: none !important;
}`;
    document.head.appendChild(fullscreenStyle);
}

// Detect if page has dark background
const isDarkTheme = () => {
    // We use a set of heuristics:
    // 1. Check for common dark mode classes or attributes
    // 2. Check computed background color brightness
    if (document.documentElement.classList.contains('dark') ||
        document.documentElement.getAttribute('data-theme') === 'dark' ||
        document.body.classList.contains('dark') ||
        document.body.getAttribute('data-theme') === 'dark') {
        // console.log("Dark theme detected via class/attribute");
        return true;
    }
    if (document.documentElement.classList.contains('light') ||
        document.documentElement.getAttribute('data-theme') === 'light' ||
        document.body.classList.contains('light') ||
        document.body.getAttribute('data-theme') === 'light') {
        // console.log("Light theme detected via class/attribute");
        return false;
    }
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        // console.log("Dark theme detected via prefers-color-scheme");
        return true;
    }
    const bgColor = window.getComputedStyle(document.body).backgroundColor;
    const match = bgColor.match(/rgb\((\d+),\s*(\d+),\s*(\d+)/);
    if (match) {
        const r = parseInt(match[1]);
        const g = parseInt(match[2]);
        const b = parseInt(match[3]);
        const brightness = (r * 299 + g * 587 + b * 114) / 1000;
        // console.log("Background color brightness:", brightness);
        return brightness < 128;
    }
    // console.log("No dark or light theme detected, defaulting to light theme");
    return false;
};

let darkTheme = isDarkTheme();
let modal = null;
let modalContent = null;
let previousScrollOffset = [window.scrollX, window.scrollY];

const runMermaid = async (rerun) => {
    console.log("Running mermaid diagrams, rerun =", rerun);
    // clear all existing mermaid charts
    let all_mermaids = document.querySelectorAll(".mermaid");

    if (rerun) {
        all_mermaids.forEach((el) => {
            if(!el.hasAttribute("data-original-code")) {
                // store original code
                // console.log(`Storing original code for first run: `, el.innerHTML);
                el.setAttribute('data-original-code', el.innerHTML);
            }
            if(el.getAttribute("data-processed") === "true") {
                // remove and restore original
                el.removeAttribute("data-processed");
                // console.log(`Restoring original code for re-run: `, el.getAttribute('data-original-code'));
                el.innerHTML = el.getAttribute('data-original-code');
            } else {
                // store original code
                // console.log(`Storing original code for re-run: `, el.innerHTML);
                el.setAttribute('data-original-code', el.innerHTML);
            }
        });
        await mermaid.run();
    }

    all_mermaids = document.querySelectorAll(".mermaid");
    const mermaids_processed = document.querySelectorAll(".mermaid[data-processed='true']");

    if ("True" === "True") {
        const mermaids_to_add_zoom = -1 === -1 ? all_mermaids.length : -1;
        if(mermaids_to_add_zoom > 0) {
            var svgs = d3.selectAll(".mermaid svg");
            if(all_mermaids.length !== mermaids_processed.length) {
                setTimeout(() => runMermaid(false), 200);
                return;
            } else if(svgs.size() !== mermaids_to_add_zoom) {
                setTimeout(() => runMermaid(false), 200);
                return;
            } else {
                svgs.each(function() {
                    var svg = d3.select(this);
                    svg.html("<g class='wrapper'>" + svg.html() + "</g>");
                    var inner = svg.select("g");
                    var zoom = d3.zoom().on("zoom", function(event) {
                        inner.attr("transform", event.transform);
                    });
                    svg.call(zoom);
                });
            }
        }
    } else if(all_mermaids.length !== mermaids_processed.length) {
        // Wait for mermaid to process all diagrams
        setTimeout(() => runMermaid(false), 200);
        return;
    }

    // Stop here if not adding fullscreen capability
    if ("True" !== "True") return;

    if (modal !== null ) {
        // Destroy existing modal
        modal.remove();
        modal = null;
        modalContent = null;
    }

    modal = document.createElement('div');
    modal.className = 'mermaid-fullscreen-modal' + (darkTheme ? ' dark-theme' : '');
    modal.setAttribute('role', 'dialog');
    modal.setAttribute('aria-modal', 'true');
    modal.setAttribute('aria-label', 'Fullscreen diagram viewer');
    modal.innerHTML = `
        <button class="mermaid-fullscreen-close${darkTheme ? ' dark-theme' : ''}" aria-label="Close fullscreen">‚úï</button>
        <div class="mermaid-container-fullscreen${darkTheme ? ' dark-theme' : ''}"></div>
    `;
    document.body.appendChild(modal);

    modalContent = modal.querySelector('.mermaid-container-fullscreen');
    const closeBtn = modal.querySelector('.mermaid-fullscreen-close');

    const closeModal = () => {
        modal.classList.remove('active');
        modalContent.innerHTML = '';
        document.body.style.overflow = ''
        window.scrollTo({left: previousScrollOffset[0], top: previousScrollOffset[1], behavior: 'instant'});
    };

    closeBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
    });
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
            closeModal();
        }
    });

    document.querySelectorAll('.mermaid').forEach((mermaidDiv) => {
        if (mermaidDiv.parentNode.classList.contains('mermaid-container') ||
            mermaidDiv.closest('.mermaid-fullscreen-modal')) {
            // Already processed, adjust button class if needed
            const existingBtn = mermaidDiv.parentNode.querySelector('.mermaid-fullscreen-btn');
            if (existingBtn) {
                existingBtn.className = 'mermaid-fullscreen-btn' + (darkTheme ? ' dark-theme' : '');
            }
            return;
        }

        const container = document.createElement('div');
        container.className = 'mermaid-container';
        mermaidDiv.parentNode.insertBefore(container, mermaidDiv);
        container.appendChild(mermaidDiv);

        const fullscreenBtn = document.createElement('button');
        fullscreenBtn.className = 'mermaid-fullscreen-btn' + (darkTheme ? ' dark-theme' : '');
        fullscreenBtn.setAttribute('aria-label', 'View diagram in fullscreen');
        fullscreenBtn.textContent = '‚õ∂';
        fullscreenBtn.style.opacity = '50%';

        // Calculate dynamic position based on diagram's margin and padding
        const diagramStyle = window.getComputedStyle(mermaidDiv);
        const marginTop = parseFloat(diagramStyle.marginTop) || 0;
        const marginRight = parseFloat(diagramStyle.marginRight) || 0;
        const paddingTop = parseFloat(diagramStyle.paddingTop) || 0;
        const paddingRight = parseFloat(diagramStyle.paddingRight) || 0;
        fullscreenBtn.style.top = `${marginTop + paddingTop + 4}px`;
        fullscreenBtn.style.right = `${marginRight + paddingRight + 4}px`;

        fullscreenBtn.addEventListener('click', () => {
            previousScrollOffset = [window.scroll, window.scrollY];
            const clone = mermaidDiv.cloneNode(true);
            modalContent.innerHTML = '';
            modalContent.appendChild(clone);

            const svg = clone.querySelector('svg');
            if (svg) {
                svg.removeAttribute('width');
                svg.removeAttribute('height');
                svg.style.width = '100%';
                svg.style.height = 'auto';
                svg.style.maxWidth = '100%';
                svg.style.sdisplay = 'block';

                if ("True" === "True") {
                    setTimeout(() => {
                        const g = svg.querySelector('g');
                        if (g) {
                            var svgD3 = d3.select(svg);
                            svgD3.html("<g class='wrapper'>" + svgD3.html() + "</g>");
                            var inner = svgD3.select("g");
                            var zoom = d3.zoom().on("zoom", function(event) {
                                inner.attr("transform", event.transform);
                            });
                            svgD3.call(zoom);
                        }
                    }, 100);
                }
            }

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });
        container.appendChild(fullscreenBtn);
    });
};

const load = async () => {
    initStyles();

    await runMermaid(true);

    const reRunIfThemeChanges = async () => {
        const newDarkTheme = isDarkTheme();
        if (newDarkTheme !== darkTheme) {
            darkTheme = newDarkTheme;
            console.log("Theme change detected, re-running mermaid with", darkTheme ? "dark" : "default", "theme");
            await mermaid.initialize(
                {...JSON.parse(
                    `{"startOnLoad": false}`
                ),
                ...{ darkMode: darkTheme, theme: darkTheme ? 'dark' : 'default' },
                }
            );
            await runMermaid(true);
        }
    };

    // Update theme classes when theme changes
    const themeObserver = new MutationObserver(reRunIfThemeChanges);
    themeObserver.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ['class', 'style', 'data-theme']
    });
    themeObserver.observe(document.body, {
        attributes: true,
        attributeFilter: ['class', 'style', 'data-theme']
    });
};





console.log("Initializing mermaid with", darkTheme ? "dark" : "default", "theme");
mermaid.initialize(
    {...JSON.parse(
        `{"startOnLoad": false}`
    ),
    ...{ darkMode: darkTheme, theme: darkTheme ? 'dark' : 'default' },
    }
);

window.addEventListener("load", load);</script>
    </body>
</html>